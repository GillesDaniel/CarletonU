<?xml version="1.0"?>

<project name="MAXIMO" default="jlmdeploy" basedir=".">
	<description>
		This file is used for building MAXIMO Scheduler applet ilog license jar file.
	</description>

	<target name="init" description="Initializes the directories and file names">
		<property name="skdviewer.jlmdeployjar" value="${basedir}/jlm-tools.jar"/>
		<property name="skdviewer.iloglicjar" value="${basedir}/webmodule/webclient/applets/skdviewerlicense.jar"/>
		<property name="skdviewer.iloglicjar.temp" value="${basedir}/webmodule/webclient/applets/skdviewerlicense-d.jar"/>
		<property name="skdviewer.keys.jlm" value="${basedir}/../properties/iloglicense"/>
	</target>

	<target name="jlmdeploy" description="Genrate deployment licence keys" depends="init" >
		<echo>Build machine should not call this target</echo>
		<echo>This should be only run on a machine which has ILOG license</echo>
		<echo>Once the jar is generated this should be checked in Source Control System. This jar will have the deployment licence</echo>
		<echo>Add the jar generated by jlmdeploy in the lib path or archive for applets</echo>
		<echo>All the applet code should call the register method in this jar file</echo>
		<echo>You can also run this from cmd line install dir of ILOG</echo>

		<jar destfile="${skdviewer.iloglicjar.temp}" basedir="${basedir}/webmodule/WEB-INF/classes" includes="com/ibm/tivoli/maximo/skd/ilog/lic/**"/>
	</target>
	
	<target name="clean" depends="init" description="Deletes dynamic.jar file">
		<delete file="${skdviewer.iloglicjar}"/>
	</target>
</project>