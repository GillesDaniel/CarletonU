define("dojo/topic dojo/io-query dojo/_base/json dojo/_base/lang dojo/Deferred dojo/_base/declare com/ibm/tivoli/maximo/miniapps/_MaximoLog com/ibm/tivoli/maximo/miniapps/_MaximoIO".split(" "),function(k,l,m,n,p,f,g,h){return f([h],{constructor:function(){thisLinearMenuObj=this;this.fetch("get_i18n_MaxMsg_label",{msgKey:"openmap",msgGroup:""}).then(function(a){thisLinearMenuObj.i18nMaxMsgOpenMaplabel=a.label});this.fetch("return_mapProvider_type").then(function(a){thisLinearMenuObj.mapProviderType=
a.mapProvider;console.log("mapProvider: "+thisLinearMenuObj.mapProviderType)});this.clickedObj=null},OnRightClick:function(a,d,e,c,b,f){if(null==d||"Data"!=d.Kind)return!0;g.debug("OnRightClick for row.Kind Data: {}",e);this.shouldRightClickSelectRow(a,d,e)&&a.SelectRow(d,1);return"G"==e&&(c=a.GetGanttXY(d,e,c,b),this.clickedObj=a.GetGanttRunBox(d,e,c.RunIndex),null!=c&&null!=c.Type&&"line"!=c.Type)?!1:!0},OnGanttMenu:function(a,d,e,c,b){if("SPATIAL"!=this.mapProviderType||"mxmap"==this.currentTabId||
!this.featureClassLinked)return!1;addedMenu=this._AdditionalTableContextMenu(c,a,d,e);console.log("menu: "+c.Items);return!1},OnGanttMenuClick:function(a,d,e,c,b,f){console.log("Item Handler Text: "+b.Text);console.log("Item Handler Value: "+b.Value);console.log("Item Handler Start: "+b.Start);console.log("Item Handler End: "+b.End);console.log("Item Handler Row ID: "+b.rowID);console.log("Item Handler Measure Unit ID: "+b.measureUnitId);console.log("Item Handler Row Name: "+b.rowName);"_OnOpenMapDialog"==
b.Value&&this.sendMaximoEvent("pluss_open_map",{linearObjTarget:!0,id:"lvcTargetMapLayer",rowName:b.rowName,rowId:b.rowID,start:b.Start,end:b.End,measureUnitId:b.measureUnitId},this.componentId);return!1},_AdditionalTableContextMenu:function(a,d,e,c){g.debug("_AdditionalTableContextMenu: {}",c);if("name"==c||"G"==c){a=a||{Items:[]};var b=this.dom.baseURI;null==b&&(b=this.servletBase+"/"+window.SKIN+"images/");a.Items.push({Name:"-",Grid:d,Row:e,Col:c});a.Items.push({Name:"Open Map Dialog",Value:"_OnOpenMapDialog",
Text:this.i18nMaxMsgOpenMaplabel,Icon:b+"/miniapps/common/menu_icon_openMap.gif",IconWidth:25,Height:25,rowName:this.clickedObj.Row.name,rowID:this.clickedObj.Row.id,Start:this.clickedObj.Start,End:this.clickedObj.End,measureUnitId:this.clickedObj.measureUnitId,Grid:d,Row:e,Col:c})}return a},shouldRightClickSelectRow:function(a,d,e){return(a=a.GetSelRows())&&0<a.length?!0:!1}})});
