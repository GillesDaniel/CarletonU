define(["dojo/topic","dojo/_base/declare","com/ibm/tivoli/maximo/miniapps/_MaximoLog"],function(f,g,d){return g(null,{constructor:function(){this._HANDLERS={};this.timers={}},addHandler:function(a,c){d.debug("{} Adding Handler: {}",this.TAG,a);return this._HANDLERS[a]=c},removeHandler:function(a){d.debug("{} Removing Handler: {}",this.TAG,a);this._HANDLERS[a].remove();delete this._HANDLERS[a]},clearHandlers:function(){d.debug("{} Clearing Handlers",this.TAG);for(var a in this._HANDLERS)this.removeHandler(a);
this._HANDLERS={}},subscribeOn:function(a,c){d.debug("{} Subscribing to {}",this.TAG,a);return this.addHandler(a,f.subscribe(a,c))},publishTo:function(a,c){d.debug("{} Publishing to {}",this.TAG,a);return f.publish(a,c)},publishLater:function(a,c,b,e){function d(){f.publishTo(a,c)}var f=this;b=b||100;e?(this.TAG&&(e+="_"+this.TAG),this.invokeLater(d,b,e)):window.setTimeout(d,b)},invokeLater:function(a,c,b){b=b||""+a;this.TAG&&(b+="_"+this.TAG);var e=this.timers[b];e&&(d.debug("updating settimeout {} for {}",
c,b),window.clearTimeout(e));var f=this;this.timers[b]=window.setTimeout(function(){delete f.timers[b];a()},c)},destroy:function(){this.clearHandlers();this.inherited(arguments)},startup:function(){this.inherited(arguments)}})});
