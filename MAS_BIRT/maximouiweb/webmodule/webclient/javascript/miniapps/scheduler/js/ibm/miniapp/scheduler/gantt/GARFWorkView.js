define("dojo/_base/declare com/ibm/tivoli/maximo/miniapps/_MaximoIO com/ibm/tivoli/maximo/miniapps/_MaximoLog dojo/_base/lang ibm/miniapp/scheduler/gantt/GanttWidget com/ibm/tivoli/maximo/miniapps/Handlers ibm/miniapp/scheduler/gantt/WorkView dojo/json".split(" "),function(g,h,c,k,l,m,n,p){return g([l,h,m,n],{constructor:function(c){this.ViewName="GAWorkOrders"},attachExtraGridEvents:function(c){this.inherited(arguments);TGAddEvent("OnFilterFinish",this.gridId,k.hitch(this,this.OnFilterEnd))},_filterToSelected:function(e,
d){var a=this._GetSelectedRows(this.grid,"G",d);if(a&&0<a.length){c.debug("Filter to selected items being handled for {} rows",a.length);for(var b="",f=0;f<a.length;f++)0<b.length&&(b+=" OR "),b+='Identifier = "'+a[f].id+'"';this.grid.ActionClearFilters();this.grid.SetValue(this.grid.Toolbar,"Expression",b,1);this.grid.SearchRows("Filter");this.grid.ClearSelection();c.debug("Filtered to ",b)}},OnFilterEnd:function(e,d){c.debug("FILTER END: type: {}, filter: {}",d,this.grid.HasFilter());var a=this.grid.HasFilter(),
b=!0;0!=(a&1)?(c.debug("we have filter row with filter data"),b=!1):0!=(a&2)&&(c.debug("we have search row"),e.Toolbar.Expression&&(c.debug("We Search Expression: {}",e.Toolbar.Expression),b=!1));b?(c.debug("Clearing Assignment Filter"),this.callBean("async_set_filtered_assignments",this._ioOptions({filter:[]}))):(a={count:0,rows:[]},this.visitVisibleChiden(a,function(a,b){a&&"ASSIGNREPLOC"===a._OBJECTNAME&&(b.count++,b.rows.push(a.id));return!0}),c.debug("Setting Assignment Filter to ",a.rows),this.callBean("async_set_filtered_assignments",
this._ioOptions({filter:a.rows})))},OnContextMenuItemSelected:function(c,d,a){"ASSIGNREPLOC"==d._OBJECTNAME&&(c.Values.selection="["+d.parentNode._OBJECTID+"]",c.Values.uniqueid=d.parentNode._OBJECTID);this.inherited(arguments)}})});
