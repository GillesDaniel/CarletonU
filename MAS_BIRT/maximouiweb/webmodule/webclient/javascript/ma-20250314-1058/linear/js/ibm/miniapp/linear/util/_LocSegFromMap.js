define("dojo/_base/lang dojo/_base/declare dojo/dom-construct dojo/_base/array com/ibm/tivoli/maximo/miniapps/Handlers com/ibm/tivoli/maximo/miniapps/_MaximoIO".split(" "),function(l,g,m,n,h,k){return g([h,k],{Boxes:null,locateSegFromMap:!1,constructor:function(a){dojo.mixin(this,a);thisLocSegFromMap=this},OnClick:function(a,b,c,d,f,e){console.debug("Clicked row: "+b+" col: "+c+" x: "+d+" y: "+f);if("Mark"==c)return this.Highlight(a,b.Text,b,!1),!1;this.Clear(a,c,b);return!1},OnRenderPageFinish:function(a,
b){this._delayAfterPostRenderPageFinish(this,a,b)},Highlight:function(a,b,c,d){this.Clear(a,null,null);this.Boxes=a.FindGanttRunBoxes({Id:b},2,"Id");if(0<this.Boxes.length){1<this.Boxes[0].Length?a.ScrollToDate(this.Boxes[0].Length/2+this.Boxes[0].Start,"Center"):a.ScrollToDate(this.Boxes[0].Start,"Center");a.ScrollToGanttRunBox(this.Boxes[0],1);a.SetScrollTop(a.GetRowTop(c));var f=this,e=a.GetGanttRunBoxTag(f.Boxes[0]);null!=e||null==this.Boxes||d||setTimeout(function(){f.Highlight(a,b,c,!0)},1E3);
d=" mark";e&&(a.FastGantt||"milestone"==f.Boxes[0].Type?"milestone"==f.Boxes[0].Type&&(d=" milestoneMark"):(e.className+=d,e=e.firstChild),e.className+=d)}},Clear:function(a,b,c){if(this.Boxes&&(null==b||"name"==b&&null!=c)&&(null==b||this.Boxes[0].Row.id.includes(c.id))){console.log(" this name is part of the tree.. remove mark");for(b=0;b<this.Boxes.length;b++){c=a.GetGanttRunBoxTag(this.Boxes[b]);var d="mark";c&&(a.FastGantt||"milestone"==this.Boxes[b].Type?"milestone"==this.Boxes[b].Type&&(d=
"milestoneMark"):(c.className&&c.className.includes(d)&&(c.className=c.className.replace(d,"")),c=c.firstChild),c.className&&c.className.includes(d)&&(c.className=c.className.replace(d,"")))}this.Boxes=null}},locateLinearSegment:function(a,b,c){console.log(" called  locateLinearSegment");b=a.GetRowById(b+"--"+c.locLinearSeg);this.linearSegId=c.graphicId;null!=b?(b.Expanded||(this.locateSegFromMap=!0),a.ExpandParents(b),a.Expand(b),this.Highlight(a,c.graphicId,b,!1)):this.Clear(a,null,null)},numOfAfterPostRenderPageFinish:0,
_delayAfterPostRenderPageFinish:function(a,b,c){setTimeout(function(){b&&a.linearSegId&&(0<b.FindGanttRunBoxes(a.linearSegId,2,"Id").length?(a.Highlight(b,a.linearSegId,c,!1),a.numOfAfterPostRenderPageFinish=0):30>a.numOfAfterPostRenderPageFinish++?a._delayAfterPostRenderPageFinish(a,b,c):a.numOfAfterPostRenderPageFinish=0)},1E3)}})});
