define(["dojo/_base/declare","com/ibm/tivoli/maximo/miniapps/_MaximoIO","com/ibm/tivoli/maximo/miniapps/_MaximoLog","dojo/_base/lang","com/ibm/tivoli/maximo/miniapps/Handlers"],function(f,g,d,e,h){return f([g,h],{constructor:function(a){this.initOptions=a;d.debug("{} Base Resource View Constructor called with",this.gridId,a)},isResourceView:function(){return!0},attachExtraGridEvents:function(a){this.inherited(arguments);this.subscribeOn("skd.gantt.sync.response",e.hitch(this,this._onSyncResponse));
AddEvent("OnSelect",a,e.hitch(this,this._NotifyRowSelected));var b=this;AddEvent("OnAfterSectionResize",this.gridId,function(){b._onSyncResponse()})},upgradeTGInstance:function(a){this.inherited(arguments);this.grid._enableFilterWorkAction=e.hitch(this,this._enableFilterWorkAction);this.grid._disableFilterWorkAction=e.hitch(this,this._disableFilterWorkAction);this.grid._onChangeResourceDisplay=e.hitch(this,this._onChangeResourceDisplay)},_onChangeResourceDisplay:function(a){var b=this;this.__pleaseWait(this.label("loading_resources"));
this.fetch("async_change_resource_display_mode",b._ioOptions({projectid:b.projectid,display:a})).then(function(){b.grid.ReloadBody()})},_enableFilterWorkAction:function(){d.debug("{} Enable Filter Work",this.TAG);this._WorkFilterEnabled=!0;this._NotifyRowSelected(this.grid,null)},_disableFilterWorkAction:function(){d.debug("{} Enable Filter Work",this.TAG);this._WorkFilterEnabled=!1;this._NotifyRowSelected(this.grid,null)},_NotifyRowSelected:function(a,b,e,c,f,g,h,k){this.publishLater("skd.resourceview.rowselected",
{grid:a,row:b,workFilterEnabled:this._WorkFilterEnabled},100,"skd.resourceview.rowselected");d.debug("{} Resource Row Selected",this.TAG)},OnDblClick_ZoomToResourceLoadAvail:function(a,b,e,c,f,g){this._hideTooltip();b&&(d.debug("{} DblClick {}",this.TAG,e),c=null,b.loadcommon&&(c=this.getDateFromLoad(b.loadcommon),d.debug("Using Date from load: {}",c)),!c&&b.availcommon&&(c=this.getDateFromLoad(b.availcommon),d.debug("Using Date from avail: {}",c)),c&&(d.debug("Will Zoom To: {}",c),this.ZoomTo(c,
null,-40,!0)),"CRAFT"===e&&this._removeRowColor(a))},_onSyncResponse:function(a){d.debug("{} Sync Response Received",this.TAG,a);null!=this.appname&&"GWORKASSIGN"!=this.appname&&this._updateSync&&this._updateSync()}})});
