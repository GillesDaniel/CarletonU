define(["dojo/_base/declare","ibm/miniapp/scheduler/gantt/CompareWorkView","dojo/_base/lang","com/ibm/tivoli/maximo/miniapps/_MaximoLog"],function(f,k,l,g){return f([k],{addCustomActions:function(e){window.Grids.ZoomToWork=l.hitch(this,this.ZoomToWork)},ZoomToWork:function(e,a,h,f){g.debug("ZoomToWork: focus: {}, test: {}, show: {}",a,h,f);if(!h)return a={start:0,end:0},this._applyToRow(e.Body,a,function(a,b){if(a.availcommon){var d=a.availcommon.split(";");for(i=0;i<d.length;i++){var c=d[i].split("#");
""!=c&&(c=c[1].split("~"),0==b.start?(b.start=c[0],b.startRow=a):c[0]<b.start&&(b.start=c[0],b.startRow=a),0==b.end?(b.end=c[1],b.endRow=a):c[1]>b.end&&(b.end=c[1],b.endRow=a))}}if(a.loadcommon)for(d=a.loadcommon.split(";"),i=0;i<d.length;i++)c=d[i].split("#"),""!=c&&(c=c[1].split("~"),0==b.start?(b.start=c[0],b.startRow=a):c[0]<b.start&&(b.start=c[0],b.startRow=a),0==b.end?(b.end=c[1],b.endRow=a):c[1]>b.end&&(b.end=c[1],b.endRow=a));if(a.overloadcommon)for(d=a.overloadcommon.split(";"),i=0;i<d.length;i++)c=
d[i].split("#"),""!=c&&(c=c[1].split("~"),0==b.start?(b.start=c[0],b.startRow=a):c[0]<b.start&&(b.start=c[0],b.startRow=a),0==b.end?(b.end=c[1],b.endRow=a):c[1]>b.end&&(b.end=c[1],b.endRow=a));return!0}),a.start=parseInt(a.start),a.end=parseInt(a.end),e=a.end-a.start,864E5>=e&&(a.start-=(864E5-e)/2,a.end=a.start+864E5),g.debug("ZoomTo",a),a.start&&a.end?this.ZoomTo(a.start,a.end,null,!0):g.warn("Nothing To ZoomTo"),!0}})});
