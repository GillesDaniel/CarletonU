define("dojo/_base/lang dojo/_base/declare dojo/dom-geometry dojo/dom dojo/dom-style dojo/dom-attr dojo/_base/window dojo/Deferred dojo/dom-construct dojo/_base/array dojo/aspect dojo/window com/ibm/tivoli/maximo/miniapps/_MaximoIO com/ibm/tivoli/maximo/miniapps/_MiniApp com/ibm/tivoli/maximo/miniapps/_MaximoLog com/ibm/tivoli/maximo/miniapps/Handlers ibm/miniapp/jsoneditor/JsonEditorBase".split(" "),function(n,f,p,q,e,r,t,u,g,v,w,x,h,k,d,l,m){return f([h,k,l,m],{jsoneditor:null,i18nJElabels:null,
options:null,sizetoparentdomid:null,dom:null,constructor:function(a){this.options=a;this.sizetoparentdomid=a.sizetoparentdomid;this.dom=a.dom?a.dom:this.domNode;a.loglevel&&(d.LOG_LEVEL=a.loglevel);d.debug("{} options",this.TAG,a)},jsonEditorOptions:function(){return{mode:"code",modes:["code","tree"],enableSort:!1,enableTransform:!1,onError:function(a){console.error("Validation Failed onError",a);thisJEObjectObj.showMessage("jsoneditor#jsonValidationFailed")},onChange:function(){thisJEObjectObj.onChange()},
onModeChange:function(a,b){thisJEObjectObj.currentMode=a;this.onRefreshMode(a);thisJEObjectObj._onModeChange&&thisJEObjectObj._onModeChange();console.log("Mode switched from",b,"to",a)},onRefreshMode:function(a){"tree"==a&&(thisJEObjectObj.jsoneditor.node.expand(!1),thisJEObjectObj.jsoneditor.node.childs[0].expand(!1),thisJEObjectObj.jsoneditor.node.childs[0].childs.forEach(function(a){a.expand(!1)}));console.log("Refresh Mode ",a)},onUpdate:function(){console.log("onUpdate --JSONEditor");try{var a=
thisJEObjectObj.jsoneditor.get(),b=JSON.stringify(a);thisJEObjectObj.sendMaximoEvent("updateConfig",{config:b},thisJEObjectObj.componentId)}catch(c){console.error("Validation Failed onUpdate",c),thisJEObjectObj.showMessage("jsoneditor#jsonValidationFailed")}},onRestore:function(){var a=this;thisJEObjectObj.ask("mapmanager#restoredefaultsymbology").then(function(b){d.debug("Response: {}",b);8==b||2==b?thisJEObjectObj.invokeLater(function(){thisJEObjectObj.fetch("restoreConfig").then(function(b){thisJEObjectObj.jsoneditor.set(b);
a.onRefreshMode(thisJEObjectObj.currentMode)})},500,"configRestoreId"):console.log("onRestore Canceled")})},onHelp:function(){try{thisJEObjectObj.sendMaximoEvent("mapSymbologyInfo","",thisJEObjectObj.componentId)}catch(a){console.error("Failed: configHelpInfo",a)}},showGraph:function(){try{thisJEObjectObj.sendMaximoEvent("mapJSONGraph","",thisJEObjectObj.componentId)}catch(a){console.error("Failed: mapJSONGraph",a)}}}},onRefreshRequested:function(a){thisJEObjectObj.fetch("getSymbologyConfig").then(function(a){var c=
dojo.byId("ValidationID");thisJEObjectObj.jsoneditor.set(a.json);c&&g.destroy("ValidationID")})},setDomStyle:function(a,b,c){e.set(b,{width:"100%",margin:"30px 0px 0px 10px"});e.set(a,c)}})});
