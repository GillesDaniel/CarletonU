//>>built
require({cache:{"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_1,_2,_3){var _4=null;return _1("dojo.store.Memory",_4,{constructor:function(_5){for(var i in _5){this[i]=_5[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_3,get:function(id){return this.data[this.index[id]];},getIdentity:function(_6){return _6[this.idProperty];},put:function(_7,_8){var _9=this.data;var _a=this.index;var _b=this.idProperty;var id=_7[_b]=(_8&&"id" in _8)?_8.id:_b in _7?_7[_b]:Math.random();var _c=_9.length;var _d;var _e;var _f=id in _a?"update":"add";if(_f==="update"){if(_8&&_8.overwrite===false){throw new Error("Object already exists");}else{_e=_a[id];_c=_e;}}if(_8&&"before" in _8){if(_8.before==null){_d=_9.length;if(_f==="update"){--_d;}}else{_d=_a[this.getIdentity(_8.before)];if(_e<_d){--_d;}}}else{_d=_c;}if(_d===_e){_9[_d]=_7;}else{if(_e!==undefined){_9.splice(_e,1);}_9.splice(_d,0,_7);this._rebuildIndex(_e===undefined?_d:Math.min(_e,_d));}return id;},add:function(_10,_11){(_11=_11||{}).overwrite=false;return this.put(_10,_11);},remove:function(id){var _12=this.index;var _13=this.data;if(id in _12){_13.splice(_12[id],1);this.index={};this._rebuildIndex();return true;}},query:function(_14,_15){return _2(this.queryEngine(_14,_15)(this.data));},setData:function(_16){if(_16.items){this.idProperty=_16.identifier||this.idProperty;_16=this.data=_16.items;}else{this.data=_16;}this.index={};this._rebuildIndex();},_rebuildIndex:function(_17){var _18=this.data;var _19=_18.length;var i;_17=_17||0;for(i=_17;i<_19;i++){this.index[_18[i][this.idProperty]]=i;}}});});},"dijit/_editor/plugins/ViewSource":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/window","../../focus","../_Plugin","../../form/ToggleButton","../..","../../registry","dojo/i18n!../nls/commands"],function(_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,on,has,_24,_25,_26,_27,_28,_29){var _2a=_1c("dijit._editor.plugins.ViewSource",_26,{stripScripts:true,stripComments:true,stripIFrames:true,stripEventHandlers:true,readOnly:false,_fsPlugin:null,toggle:function(){if(has("webkit")){this._vsFocused=true;}this.button.set("checked",!this.button.get("checked"));},_initButton:function(){var _2b=_21.getLocalization("dijit._editor","commands"),_2c=this.editor;this.button=new _27({label:_2b["viewSource"],ownerDocument:_2c.ownerDocument,dir:_2c.dir,lang:_2c.lang,showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:_23.hitch(this,"_showSource")});this.button.set("readOnly",false);},setEditor:function(_2d){this.editor=_2d;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=_1b.before(this.editor,"setValue",_23.hitch(this,function(_2e){return [this._filter(_2e)];}));this._getValueFilterHandle=_1b.after(this.editor,"getValue",_23.hitch(this,function(_2f){return this._filter(_2f);}));this.editor.addKeyHandler(_22.F12,true,true,_23.hitch(this,function(e){this.button.focus();this.toggle();e.stopPropagation();e.preventDefault();setTimeout(_23.hitch(this,function(){if(this.editor.focused){this.editor.focus();}}),100);}));},_showSource:function(_30){var ed=this.editor;var _31=ed._plugins;var _32;this._sourceShown=_30;var _33=this;try{if(!this.sourceArea){this._createSourceView();}if(_30){ed._sourceQueryCommandEnabled=ed.queryCommandEnabled;ed.queryCommandEnabled=function(cmd){return cmd.toLowerCase()==="viewsource";};this.editor.onDisplayChanged();_1a.forEach(_31,function(p){if(p&&!(p instanceof _2a)&&p.isInstanceOf(_26)){p.set("disabled",true);}});if(this._fsPlugin){this._fsPlugin._getAltViewNode=function(){return _33.sourceArea;};}this.sourceArea.value=ed.get("value");this.sourceArea.style.height=ed.iframe.style.height;this.sourceArea.style.width=ed.iframe.style.width;ed.iframe.parentNode.style.position="relative";_20.set(ed.iframe,{position:"absolute",top:0,visibility:"hidden"});_20.set(this.sourceArea,{display:"block"});var _34=function(){var vp=_24.getBox(ed.ownerDocument);if("_prevW" in this&&"_prevH" in this){if(vp.w===this._prevW&&vp.h===this._prevH){return;}else{this._prevW=vp.w;this._prevH=vp.h;}}else{this._prevW=vp.w;this._prevH=vp.h;}if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}this._resizer=setTimeout(_23.hitch(this,function(){delete this._resizer;this._resize();}),10);};this._resizeHandle=on(window,"resize",_23.hitch(this,_34));setTimeout(_23.hitch(this,this._resize),100);this.editor.onNormalizedDisplayChanged();this.editor.__oldGetValue=this.editor.getValue;this.editor.getValue=_23.hitch(this,function(){var txt=this.sourceArea.value;txt=this._filter(txt);return txt;});this._setListener=_1b.after(this.editor,"setValue",_23.hitch(this,function(_35){_35=_35||"";this.sourceArea.value=_35;}),true);}else{if(!ed._sourceQueryCommandEnabled){return;}this._setListener.remove();delete this._setListener;this._resizeHandle.remove();delete this._resizeHandle;if(this.editor.__oldGetValue){this.editor.getValue=this.editor.__oldGetValue;delete this.editor.__oldGetValue;}ed.queryCommandEnabled=ed._sourceQueryCommandEnabled;if(!this._readOnly){_32=this.sourceArea.value;ed.beginEditing();ed.set("value",_32);ed.endEditing();}_1a.forEach(_31,function(p){if(p&&p.isInstanceOf(_26)){p.set("disabled",false);}});_20.set(this.sourceArea,"display","none");_20.set(ed.iframe,{position:"relative",visibility:"visible"});delete ed._sourceQueryCommandEnabled;this.editor.onDisplayChanged();}setTimeout(_23.hitch(this,function(){var _36=ed.domNode.parentNode;if(_36){var _37=_29.getEnclosingWidget(_36);if(_37&&_37.resize){_37.resize();}}ed.resize();}),300);}catch(e){}},updateState:function(){this.button.set("disabled",this.get("disabled"));},_resize:function(){var ed=this.editor;var tbH=ed.getHeaderHeight();var fH=ed.getFooterHeight();var eb=_1f.position(ed.domNode);var _38=_1f.getPadBorderExtents(ed.iframe.parentNode);var _39=_1f.getMarginExtents(ed.iframe.parentNode);var _3a=_1f.getPadBorderExtents(ed.domNode);var edb={w:eb.w-_3a.w,h:eb.h-(tbH+_3a.h+fH)};if(this._fsPlugin&&this._fsPlugin.isFullscreen){var vp=_24.getBox(ed.ownerDocument);edb.w=(vp.w-_3a.w);edb.h=(vp.h-(tbH+_3a.h+fH));}_1f.setMarginBox(this.sourceArea,{w:Math.round(edb.w-(_38.w+_39.w)),h:Math.round(edb.h-(_38.h+_39.h))});},_createSourceView:function(){var ed=this.editor;var _3b=ed._plugins;this.sourceArea=_1e.create("textarea");if(this.readOnly){_1d.set(this.sourceArea,"readOnly",true);this._readOnly=true;}_20.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});_1d.set(this.sourceArea,"aria-label",this.editor.id);_1e.place(this.sourceArea,ed.iframe,"before");if(has("ie")&&ed.iframe.parentNode.lastChild!==ed.iframe){_20.set(ed.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});}ed._viewsource_oldFocus=ed.focus;var _3c=this;ed.focus=function(){if(_3c._sourceShown){_3c.setSourceAreaCaret();}else{try{if(this._vsFocused){delete this._vsFocused;_25.focus(ed.editNode);}else{ed._viewsource_oldFocus();}}catch(e){}}};var i,p;for(i=0;i<_3b.length;i++){p=_3b[i];if(p&&(p.declaredClass==="dijit._editor.plugins.FullScreen"||p.declaredClass===(_28._scopeName+"._editor.plugins.FullScreen"))){this._fsPlugin=p;break;}}if(this._fsPlugin){this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode;this._fsPlugin._getAltViewNode=function(){return _3c._sourceShown?_3c.sourceArea:this._viewsource_getAltViewNode();};}this.own(on(this.sourceArea,"keydown",_23.hitch(this,function(e){if(this._sourceShown&&e.keyCode==_22.F12&&e.ctrlKey&&e.shiftKey){this.button.focus();this.button.set("checked",false);setTimeout(_23.hitch(this,function(){ed.focus();}),100);e.stopPropagation();e.preventDefault();}})));},_stripScripts:function(_3d){if(_3d){_3d=_3d.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,"");_3d=_3d.replace(/<\s*script\b([^<>]|\s)*>?/ig,"");_3d=_3d.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,"");}return _3d;},_stripComments:function(_3e){if(_3e){_3e=_3e.replace(/<!--(.|\s){1,}?-->/g,"");}return _3e;},_stripIFrames:function(_3f){if(_3f){_3f=_3f.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,"");}return _3f;},_stripEventHandlers:function(_40){if(_40){var _41=_40.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(_41){for(var i=0,l=_41.length;i<l;i++){var _42=_41[i];var _43=_42.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");_40=_40.replace(_42,_43);}}}return _40;},_filter:function(_44){if(_44){if(this.stripScripts){_44=this._stripScripts(_44);}if(this.stripComments){_44=this._stripComments(_44);}if(this.stripIFrames){_44=this._stripIFrames(_44);}if(this.stripEventHandlers){_44=this._stripEventHandlers(_44);}}return _44;},removeValueFilterHandles:function(){if(this._setValueFilterHandle){this._setValueFilterHandle.remove();delete this._setValueFilterHandle;}if(this._getValueFilterHandle){this._getValueFilterHandle.remove();delete this._getValueFilterHandle;}},setSourceAreaCaret:function(){var _45=this.sourceArea;_25.focus(_45);if(this._sourceShown&&!this.readOnly){if(_45.setSelectionRange){_45.setSelectionRange(0,0);}else{if(this.sourceArea.createTextRange){var _46=_45.createTextRange();_46.collapse(true);_46.moveStart("character",-99999);_46.moveStart("character",0);_46.moveEnd("character",0);_46.select();}}}},destroy:function(){if(this._resizer){clearTimeout(this._resizer);delete this._resizer;}if(this._resizeHandle){this._resizeHandle.remove();delete this._resizeHandle;}if(this._setListener){this._setListener.remove();delete this._setListener;}this.removeValueFilterHandles();this.inherited(arguments);}});_26.registry["viewSource"]=_26.registry["viewsource"]=function(_47){return new _2a({readOnly:("readOnly" in _47)?_47.readOnly:false,stripComments:("stripComments" in _47)?_47.stripComments:true,stripScripts:("stripScripts" in _47)?_47.stripScripts:true,stripIFrames:("stripIFrames" in _47)?_47.stripIFrames:true,stripEventHandlers:("stripEventHandlers" in _47)?_47.stripEventHandlers:true});};return _2a;});},"dijit/form/DropDownButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html","../a11yclick"],function(_48,_49,_4a,_4b,_4c,_4d,_4e,_4f,_50,_51){return _48("dijit.form.DropDownButton",[_4e,_4f,_50],{baseClass:"dijitDropDownButton",templateString:_51,_fillContent:function(){var _52=this.srcNodeRef;var _53=this.containerNode;if(_52&&_53){while(_52.hasChildNodes()){var _54=_52.firstChild;if(_54.hasAttribute&&(_54.hasAttribute("data-dojo-type")||_54.hasAttribute("dojoType")||_54.hasAttribute("data-"+_49._scopeName+"-type")||_54.hasAttribute(_49._scopeName+"Type"))){this.dropDownContainer=this.ownerDocument.createElement("div");this.dropDownContainer.appendChild(_54);}else{_53.appendChild(_54);}}}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){this.dropDown=_4c.byNode(this.dropDownContainer.firstChild);delete this.dropDownContainer;}if(this.dropDown){_4d.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _55=this.dropDown;return (!!_55&&(!_55.href||_55.isLoaded));},loadDropDown:function(_56){var _57=this.dropDown;var _58=_57.on("load",_4a.hitch(this,function(){_58.remove();_56();}));_57.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_editor/RichText":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/string","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(_59,_5a,_5b,_5c,dom,_5d,_5e,_5f,_60,_61,_62,_63,_64,on,_65,_66,has,_67,_68,_69,_6a,_6b,_6c,_6d,_6e,_6f,_70,_71,_72){var _73=_5b("dijit._editor.RichText",[_6c,_6d],{constructor:function(_74){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_74&&_64.isString(_74.value)){this.value=_74.value;}this.onLoadDeferred=new _5c();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}this.contentPreFilters=[_64.trim,_64.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")||has("trident")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[_64.hitch(this,"_stripBreakerNodes")].concat(this.contentDomPostFilters);}this.contentDomPostFilters=[_64.hitch(this,"_stripTrailingEmptyNodes")].concat(this.contentDomPostFilters);this.inherited(arguments);_68.publish(_72._scopeName+"._editor.RichText::init",this);},startup:function(){this.inherited(arguments);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var _75=_64.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _76={b:_75("bold"),i:_75("italic"),u:_75("underline"),a:_75("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":_75("formatblock","h1"),"2":_75("formatblock","h2"),"3":_75("formatblock","h3"),"4":_75("formatblock","h4"),"\\":_75("insertunorderedlist")};if(!has("ie")){_76.Z=_75("redo");}var key;for(key in _76){this.addKeyHandler(key,true,false,_76[key]);}},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_73._editorCommandsLocalized){this._local2NativeFormatNames=_73._local2NativeFormatNames;this._native2LocalFormatNames=_73._native2LocalFormatNames;return;}_73._editorCommandsLocalized=true;_73._local2NativeFormatNames={};_73._native2LocalFormatNames={};this._local2NativeFormatNames=_73._local2NativeFormatNames;this._native2LocalFormatNames=_73._native2LocalFormatNames;var _77=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _78="",_79,i=0;while((_79=_77[i++])){if(_79.charAt(1)!=="l"){_78+="<"+_79+"><span>content</span></"+_79+"><br/>";}else{_78+="<"+_79+"><li>content</li></"+_79+"><br/>";}}var _7a={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_5f.create("div",{style:_7a,innerHTML:_78});this.ownerDocumentBody.appendChild(div);var _7b=_64.hitch(this,function(){var _7c=div.firstChild;while(_7c){try{this.selection.selectElement(_7c.firstChild);var _7d=_7c.tagName.toLowerCase();this._local2NativeFormatNames[_7d]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_7d]]=_7d;_7c=_7c.nextSibling.nextSibling;}catch(e){}}_5f.destroy(div);});this.defer(_7b);},open:function(_7e){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _5c();}if(!this.isClosed){this.close();}_68.publish(_72._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_7e.nodeName){this.domNode=_7e;}var dn=this.domNode;var _7f;if(_64.isString(this.value)){_7f=this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;_7f=ta.value;dn=this.domNode=this.ownerDocument.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_5f.place(dn,ta,"before");var _80=_64.hitch(this,function(){_61.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){this.defer(_80,10);}else{_80();}if(ta.form){var _81=ta.value;this.reset=function(){var _82=this.getValue();if(_82!==_81){this.replaceValue(_81);}};on(ta.form,"submit",_64.hitch(this,function(){_5d.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{_7f=_70.getChildrenHtml(dn);dn.innerHTML="";}}this.value=_7f;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_5a["useXDomain"]||_5a["allowXdRichTextSave"])){var _83=dom.byId(_72._scopeName+"._editor.RichText.value");if(_83&&_83.value!==""){var _84=_83.value.split(this._SEPARATOR),i=0,dat;while((dat=_84[i++])){var _85=dat.split(this._NAME_CONTENT_SEP);if(_85[0]===this.name){this.value=_85[1];_84=_84.splice(i,1);_83.value=_84.join(this._SEPARATOR);break;}}}if(!_73._globalSaveHandler){_73._globalSaveHandler={};_69.addOnUnload(function(){var id;for(id in _73._globalSaveHandler){var f=_73._globalSaveHandler[id];if(_64.isFunction(f)){f();}}});}_73._globalSaveHandler[this.id]=_64.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));ifr.id=this.id+"_iframe";ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=_64.hitch(this,function(w){this.window=w;this.document=w.document;this.selection=new _6e.SelectionManager(w);if(has("ie")){this._localizeEditorCommands();}this.onLoad(this.get("value"));});var src=this._getIframeDocTxt().replace(/\\/g,"\\\\").replace(/'/g,"\\'"),s;if(has("ie")<11){s="javascript:document.open();try{parent.window;}catch(e){document.domain=\""+document.domain+"\";}"+"document.write('"+src+"');document.close()";}else{s="javascript: '"+src+"'";}this.editingArea.appendChild(ifr);ifr.src=s;if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_5e.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _86=_61.getComputedStyle(this.domNode);var _87;if(this["aria-label"]){_87=this["aria-label"];}else{var _88=_65("label[for=\""+this.id+"\"]",this.ownerDocument)[0]||dom.byId(this["aria-labelledby"],this.ownerDocument);if(_88){_87=_88.textContent||_88.innerHTML||"";}}var _89="<div id='dijitEditorBody' role='textbox' aria-multiline='true' "+(_87?" aria-label='"+_67.escape(_87)+"'":"")+"></div>";var _8a=[_86.fontWeight,_86.fontSize,_86.fontFamily].join(" ");var _8b=_86.lineHeight;if(_8b.indexOf("px")>=0){_8b=parseFloat(_8b)/parseFloat(_86.fontSize);}else{if(_8b.indexOf("em")>=0){_8b=parseFloat(_8b);}else{_8b="normal";}}var _8c="";var _8d=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_8e){_8e=_8e.replace(/^;/ig,"")+";";var s=_8e.split(":")[0];if(s){s=_64.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case "-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_61.set(_8d.domNode,sC,"");}_8c+=_8e+";";});this.iframe.setAttribute("title",_87);var _8f=this.lang||_62.locale.replace(/-.*/,"");return ["<!DOCTYPE html>","<html lang='"+_8f+"'"+(this.isLeftToRight()?"":" dir='rtl'")+">\n","<head>\n","<meta http-equiv='Content-Type' content='text/html'>\n",_87?"<title>"+_67.escape(_87)+"</title>":"","<style>\n",(this.fontSize=="")?"":"\t#dijitEditorBody {font-size:"+this.fontSize+" !important;}\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html,#dijitEditorBody { outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody,#dijitEditorBody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",_8a,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_8b,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(has("ie")||has("trident")||has("edge")?"":"\tli{ min-height:1.2em; }\n"),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='application'",_87?" aria-label='"+_67.escape(_87)+"'":"","onload='try{frameElement && frameElement._loadFunc(window,document)}catch(e){document.domain=\""+document.domain+"\";frameElement._loadFunc(window,document)}' ","style='"+_8c+"'>",_89,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _90=[];if(this.styleSheets){_90=this.styleSheets.split(";");this.styleSheets="";}_90=_90.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var _91="",i=0,url,_92=_6b.get(this.ownerDocument);while((url=_90[i++])){var _93=(new _6a(_92.location,url)).toString();this.editingAreaStyleSheets.push(_93);_91+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_93+"\"/>";}return _91;},addStyleSheet:function(uri){var url=uri.toString(),_94=_6b.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _6a(_94.location,url)).toString();}if(_59.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.then(_64.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var _95=this.document.getElementsByTagName("head")[0];var _96=this.document.createElement("link");_96.rel="stylesheet";_96.type="text/css";_96.href=url;_95.appendChild(_96);}}));},removeStyleSheet:function(uri){var url=uri.toString(),_97=_6b.get(this.ownerDocument);if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _6a(_97.location,url)).toString();}var _98=_59.indexOf(this.editingAreaStyleSheets,url);if(_98===-1){return;}delete this.editingAreaStyleSheets[_98];_65("link[href=\""+url+"\"]",this.window.document).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_99){_99=!!_99;this._set("disabled",_99);if(!this.isLoaded){return;}var _9a=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_9a){this.editNode.unselectable="on";}this.editNode.contentEditable=!_99;this.editNode.tabIndex=_99?"-1":this.tabIndex;if(_9a){this.defer(function(){if(this.editNode){this.editNode.unselectable="off";}});}if(has("mozilla")&&!_99&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}this._disabledOK=true;},onLoad:function(_9b){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=_71.registerIframe(this.iframe);}this.editNode=this.document.body.firstChild;var _9c=this;this.beforeIframeNode=_5f.place("<div tabIndex=-1></div>",this.iframe,"before");this.afterIframeNode=_5f.place("<div tabIndex=-1></div>",this.iframe,"after");this.iframe.onfocus=this.document.onfocus=function(){_9c.editNode.focus();};this.focusNode=this.editNode;var _9d=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;this.own.apply(this,_59.map(_9d,function(_9e){var _9f=_9e.toLowerCase().replace(/^on/,"");return on(ap,_9f,_64.hitch(this,_9e));},this));this.own(on(ap,"mouseup",_64.hitch(this,"onClick")));if(has("ie")){this.own(on(this.document,"mousedown",_64.hitch(this,"_onIEMouseDown")));this.editNode.style.zoom=1;}if(has("webkit")){this._webkitListener=this.own(on(this.document,"mouseup",_64.hitch(this,"onDisplayChanged")))[0];this.own(on(this.document,"mousedown",_64.hitch(this,function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){this.defer("placeCursorAtEnd");}})));}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _a0=_64.hitch(this,function(){this.setValue(_9b);if(this.onLoadDeferred&&!this.onLoadDeferred.isFulfilled()){this.onLoadDeferred.resolve(true);}this.onDisplayChanged();if(this.focusOnLoad){_66(_64.hitch(this,"defer","focus",this.updateInterval));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.then(_a0);}else{_a0();}},onKeyDown:function(e){if(e.keyCode===_63.SHIFT||e.keyCode===_63.ALT||e.keyCode===_63.META||e.keyCode===_63.CTRL){return true;}if(e.keyCode===_63.TAB&&this.isTabIndent){e.stopPropagation();e.preventDefault();if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(e.keyCode==_63.TAB&&!this.isTabIndent&&!e.ctrlKey&&!e.altKey){if(e.shiftKey){this.beforeIframeNode.focus();}else{this.afterIframeNode.focus();}return true;}if(has("ie")<9&&e.keyCode===_63.BACKSPACE&&this.document.selection.type==="Control"){e.stopPropagation();e.preventDefault();this.execCommand("delete");}if(has("ff")){if(e.keyCode===_63.PAGE_UP||e.keyCode===_63.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}var _a1=this._keyHandlers[e.keyCode],_a2=arguments;if(_a1&&!e.altKey){_59.some(_a1,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,_a2)){e.preventDefault();}return true;}},this);}this.defer("onKeyPressed",1);return true;},onKeyUp:function(){},setDisabled:function(_a3){_62.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.set("disabled",_a3);},_setValueAttr:function(_a4){this.setValue(_a4);},_setDisableSpellCheckAttr:function(_a5){if(this.document){_5d.set(this.document.body,"spellcheck",!_a5);}else{this.onLoadDeferred.then(_64.hitch(this,function(){_5d.set(this.document.body,"spellcheck",!_a5);}));}this._set("disableSpellCheck",_a5);},addKeyHandler:function(key,_a6,_a7,_a8){if(typeof key=="string"){key=key.toUpperCase().charCodeAt(0);}if(!_64.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_a7||false,ctrl:_a6||false,handler:_a8});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){if(has("ie")||has("trident")){this.defer(function(){if(!_71.curNode){this.ownerDocumentBody.focus();}});}this.inherited(arguments);var _a9=this.getValue(true);if(_a9!==this.value){this.onChange(_a9);}this._set("value",_a9);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(this.ownerDocumentBody.focus){this.ownerDocumentBody.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(has("ie")<9){this.iframe.fireEvent("onfocus",document.createEventObject());}else{this.editNode.focus();}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){this._updateTimer.remove();}this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_aa){var _ab=cmd.toLowerCase();if(_ab==="formatblock"){if(has("safari")&&_aa===undefined){_ab="heading";}}else{if(_ab==="hilitecolor"&&!has("mozilla")){_ab="backcolor";}}return _ab;},_implCommand:function(cmd){return "_"+this._normalizeCommand(cmd)+"EnabledImpl";},_qcaCache:{},queryCommandAvailable:function(_ac){var ca=this._qcaCache[_ac];if(ca!==undefined){return ca;}return (this._qcaCache[_ac]=this._queryCommandAvailable(_ac));},_queryCommandAvailable:function(_ad){switch(_ad.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":case "cut":case "copy":case "paste":return true;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":return has("ie")||has("trident")||has("edge");case "inserttable":case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":return !has("webkit");default:return false;}},execCommand:function(_ae,_af){var _b0;if(this.focused){this.focus();}_ae=this._normalizeCommand(_ae,_af);if(_af!==undefined){if(_ae==="heading"){throw new Error("unimplemented");}else{if(_ae==="formatblock"&&(has("ie")||has("trident"))){_af="<"+_af+">";}}}var _b1="_"+_ae+"Impl";if(this[_b1]){_b0=this[_b1](_af);}else{_af=arguments.length>1?_af:null;if(_af||_ae!=="createlink"){_b0=this.document.execCommand(_ae,false,_af);}}this.onDisplayChanged();return _b0;},queryCommandEnabled:function(_b2){if(this.disabled||!this._disabledOK){return false;}_b2=this._normalizeCommand(_b2);var _b3=this._implCommand(_b2);if(this[_b3]){return this[_b3](_b2);}else{return this._browserQueryCommandEnabled(_b2);}},queryCommandState:function(_b4){if(this.disabled||!this._disabledOK){return false;}_b4=this._normalizeCommand(_b4);try{return this.document.queryCommandState(_b4);}catch(e){return false;}},queryCommandValue:function(_b5){if(this.disabled||!this._disabledOK){return false;}var r;_b5=this._normalizeCommand(_b5);if(has("ie")&&_b5==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_b5)];}else{if(has("mozilla")&&_b5==="hilitecolor"){var _b6;try{_b6=this.document.queryCommandValue("styleWithCSS");}catch(e){_b6=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_b5);this.document.execCommand("styleWithCSS",false,_b6);}else{r=this.document.queryCommandValue(_b5);}}return r;},_sCall:function(_b7,_b8){return this.selection[_b7].apply(this.selection,_b8);},placeCursorAtStart:function(){this.focus();var _b9=false;if(has("mozilla")){var _ba=this.editNode.firstChild;while(_ba){if(_ba.nodeType===3){if(_ba.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_b9=true;this.selection.selectElement(_ba);break;}}else{if(_ba.nodeType===1){_b9=true;var tg=_ba.tagName?_ba.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this.selection.selectElement(_ba);}else{this.selection.selectElementChildren(_ba);}break;}}_ba=_ba.nextSibling;}}else{_b9=true;this.selection.selectElementChildren(this.editNode);}if(_b9){this.selection.collapse(true);}},placeCursorAtEnd:function(){this.focus();var _bb=false;if(has("mozilla")){var _bc=this.editNode.lastChild;while(_bc){if(_bc.nodeType===3){if(_bc.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_bb=true;this.selection.selectElement(_bc);break;}}else{if(_bc.nodeType===1){_bb=true;this.selection.selectElement(_bc.lastChild||_bc);break;}}_bc=_bc.previousSibling;}}else{_bb=true;this.selection.selectElementChildren(this.editNode);}if(_bb){this.selection.collapse(false);}},getValue:function(_bd){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this.isLoaded?this._postFilterContent(null,_bd):this.value;},_getValueAttr:function(){return this.getValue(true);},setValue:function(_be){if(!this.isLoaded){this.onLoadDeferred.then(_64.hitch(this,function(){this.setValue(_be);}));return;}if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=_be;}else{_be=this._preFilterContent(_be);var _bf=this.isClosed?this.domNode:this.editNode;_bf.innerHTML=_be;this._preDomFilterContent(_bf);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(_c0){if(this.isClosed){this.setValue(_c0);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(_c0);}else{if(this.window&&this.window.getSelection){_c0=this._preFilterContent(_c0);this.execCommand("selectall");this.execCommand("inserthtml",_c0);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(_c0);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(_c1){var ec=_c1;_59.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;_59.forEach(this.contentDomPreFilters,function(ef){if(ef&&_64.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_c2){var ec;if(!_64.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_c2){dom=_64.clone(dom);}_59.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_70.getChildrenHtml(dom);}else{ec=dom;}if(!_64.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}_59.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _c3=dom.byId(_72._scopeName+"._editor.RichText.value");if(_c3){if(_c3.value){_c3.value+=this._SEPARATOR;}_c3.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_c4){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_c4){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(_c5){_62.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _70.getNodeHtml(_c5);},getNodeChildrenHtml:function(dom){_62.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _70.getChildrenHtml(dom);},close:function(_c6){if(this.isClosed){return;}if(!arguments.length){_c6=true;}if(_c6){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this._webkitListener.remove();delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_5f.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_5e.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){this._updateTimer.remove();}this.inherited(arguments);if(_73._globalSaveHandler){delete _73._globalSaveHandler[this.id];}},_removeMozBogus:function(_c7){return _c7.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(_c8){_c8=_c8.replace(/\sclass="webkit-block-placeholder"/gi,"");_c8=_c8.replace(/\sclass="apple-style-span"/gi,"");_c8=_c8.replace(/<meta charset=\"utf-8\" \/>/gi,"");return _c8;},_normalizeFontStyle:function(_c9){return _c9.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(_ca){return _ca.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_cb){if(!_cb){return false;}var _cc=has("ie")<9?this.document.selection.createRange():this.document;try{return _cc.queryCommandEnabled(_cb);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _cd=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_cd=true;}else{_cd=this.document.queryCommandEnabled("createlink");}}else{_cd=this._browserQueryCommandEnabled("createlink");}return _cd;},_unlinkEnabledImpl:function(){var _ce=true;if(has("mozilla")||has("webkit")){_ce=this.selection.hasAncestorElement("a");}else{_ce=this._browserQueryCommandEnabled("unlink");}return _ce;},_inserttableEnabledImpl:function(){var _cf=true;if(has("mozilla")||has("webkit")){_cf=true;}else{_cf=this._browserQueryCommandEnabled("inserttable");}return _cf;},_cutEnabledImpl:function(){var _d0=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_d0=!!sel;}else{_d0=this._browserQueryCommandEnabled("cut");}return _d0;},_copyEnabledImpl:function(){var _d1=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_d1=!!sel;}else{_d1=this._browserQueryCommandEnabled("copy");}return _d1;},_pasteEnabledImpl:function(){var _d2=true;if(has("webkit")){return true;}else{_d2=this._browserQueryCommandEnabled("paste");}return _d2;},_inserthorizontalruleImpl:function(_d3){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_d3);},_unlinkImpl:function(_d4){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this.selection.getAncestorElement("a");this.selection.selectElement(a);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_d4);},_hilitecolorImpl:function(_d5){var _d6;var _d7=this._handleTextColorOrProperties("hilitecolor",_d5);if(!_d7){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);_d6=this.document.execCommand("hilitecolor",false,_d5);this.document.execCommand("styleWithCSS",false,false);}else{_d6=this.document.execCommand("hilitecolor",false,_d5);}}return _d6;},_backcolorImpl:function(_d8){if(has("ie")){_d8=_d8?_d8:null;}var _d9=this._handleTextColorOrProperties("backcolor",_d8);if(!_d9){_d9=this.document.execCommand("backcolor",false,_d8);}return _d9;},_forecolorImpl:function(_da){if(has("ie")){_da=_da?_da:null;}var _db=false;_db=this._handleTextColorOrProperties("forecolor",_da);if(!_db){_db=this.document.execCommand("forecolor",false,_da);}return _db;},_inserthtmlImpl:function(_dc){_dc=this._preFilterContent(_dc);var rv=true;if(has("ie")<9){var _dd=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_dd.item(0);while(_dd.length){_dd.remove(_dd.item(0));}n.outerHTML=_dc;}else{_dd.pasteHTML(_dc);}_dd.select();}else{if(has("trident")<8){var _dd;var _de=_6f.getSelection(this.window);if(_de&&_de.rangeCount&&_de.getRangeAt){_dd=_de.getRangeAt(0);_dd.deleteContents();var div=_5f.create("div");div.innerHTML=_dc;var _df,_e0;var n=this.document.createDocumentFragment();while((_df=div.firstChild)){_e0=n.appendChild(_df);}_dd.insertNode(n);if(_e0){_dd=_dd.cloneRange();_dd.setStartAfter(_e0);_dd.collapse(false);_de.removeAllRanges();_de.addRange(_dd);}}}else{if(has("mozilla")&&!_dc.length){this.selection.remove();}else{rv=this.document.execCommand("inserthtml",false,_dc);}}}return rv;},_boldImpl:function(_e1){var _e2=false;if(has("ie")||has("trident")){this._adaptIESelection();_e2=this._adaptIEFormatAreaAndExec("bold");}if(!_e2){_e2=this.document.execCommand("bold",false,_e1);}return _e2;},_italicImpl:function(_e3){var _e4=false;if(has("ie")||has("trident")){this._adaptIESelection();_e4=this._adaptIEFormatAreaAndExec("italic");}if(!_e4){_e4=this.document.execCommand("italic",false,_e3);}return _e4;},_underlineImpl:function(_e5){var _e6=false;if(has("ie")||has("trident")){this._adaptIESelection();_e6=this._adaptIEFormatAreaAndExec("underline");}if(!_e6){_e6=this.document.execCommand("underline",false,_e5);}return _e6;},_strikethroughImpl:function(_e7){var _e8=false;if(has("ie")||has("trident")){this._adaptIESelection();_e8=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_e8){_e8=this.document.execCommand("strikethrough",false,_e7);}return _e8;},_superscriptImpl:function(_e9){var _ea=false;if(has("ie")||has("trident")){this._adaptIESelection();_ea=this._adaptIEFormatAreaAndExec("superscript");}if(!_ea){_ea=this.document.execCommand("superscript",false,_e9);}return _ea;},_subscriptImpl:function(_eb){var _ec=false;if(has("ie")||has("trident")){this._adaptIESelection();_ec=this._adaptIEFormatAreaAndExec("subscript");}if(!_ec){_ec=this.document.execCommand("subscript",false,_eb);}return _ec;},_fontnameImpl:function(_ed){var _ee;if(has("ie")||has("trident")){_ee=this._handleTextColorOrProperties("fontname",_ed);}if(!_ee){_ee=this.document.execCommand("fontname",false,_ed);}return _ee;},_fontsizeImpl:function(_ef){var _f0;if(has("ie")||has("trident")){_f0=this._handleTextColorOrProperties("fontsize",_ef);}if(!_f0){_f0=this.document.execCommand("fontsize",false,_ef);}return _f0;},_insertorderedlistImpl:function(_f1){var _f2=false;if(has("ie")||has("trident")||has("edge")){_f2=this._adaptIEList("insertorderedlist",_f1);}if(!_f2){_f2=this.document.execCommand("insertorderedlist",false,_f1);}return _f2;},_insertunorderedlistImpl:function(_f3){var _f4=false;if(has("ie")||has("trident")||has("edge")){_f4=this._adaptIEList("insertunorderedlist",_f3);}if(!_f4){_f4=this.document.execCommand("insertunorderedlist",false,_f3);}return _f4;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(_f5){var h=0;if(_f5&&_f5.childNodes){var i;for(i=0;i<_f5.childNodes.length;i++){var _f6=_60.position(_f5.childNodes[i]);h+=_f6.h;}}return h;},_isNodeEmpty:function(_f7,_f8){if(_f7.nodeType===1){if(_f7.childNodes.length>0){return this._isNodeEmpty(_f7.childNodes[0],_f8);}return true;}else{if(_f7.nodeType===3){return (_f7.nodeValue.substring(_f8)==="");}}return false;},_removeStartingRangeFromRange:function(_f9,_fa){if(_f9.nextSibling){_fa.setStart(_f9.nextSibling,0);}else{var _fb=_f9.parentNode;while(_fb&&_fb.nextSibling==null){_fb=_fb.parentNode;}if(_fb){_fa.setStart(_fb.nextSibling,0);}}return _fa;},_adaptIESelection:function(){var _fc=_6f.getSelection(this.window);if(_fc&&_fc.rangeCount&&!_fc.isCollapsed){var _fd=_fc.getRangeAt(0);var _fe=_fd.startContainer;var _ff=_fd.startOffset;while(_fe.nodeType===3&&_ff>=_fe.length&&_fe.nextSibling){_ff=_ff-_fe.length;_fe=_fe.nextSibling;}var _100=null;while(this._isNodeEmpty(_fe,_ff)&&_fe!==_100){_100=_fe;_fd=this._removeStartingRangeFromRange(_fe,_fd);_fe=_fd.startContainer;_ff=0;}_fc.removeAllRanges();_fc.addRange(_fd);}},_adaptIEFormatAreaAndExec:function(_101){var _102=_6f.getSelection(this.window);var doc=this.document;var rs,ret,_103,txt,_104,_105,_106,_107;if(_101&&_102&&_102.isCollapsed){var _108=this.queryCommandValue(_101);if(_108){var _109=this._tagNamesForCommand(_101);_103=_102.getRangeAt(0);var fs=_103.startContainer;if(fs.nodeType===3){var _10a=_103.endOffset;if(fs.length<_10a){ret=this._adjustNodeAndOffset(rs,_10a);fs=ret.node;_10a=ret.offset;}}var _10b;while(fs&&fs!==this.editNode){var _10c=fs.tagName?fs.tagName.toLowerCase():"";if(_59.indexOf(_109,_10c)>-1){_10b=fs;break;}fs=fs.parentNode;}if(_10b){rs=_103.startContainer;var _10d=doc.createElement(_10b.tagName);_5f.place(_10d,_10b,"after");if(rs&&rs.nodeType===3){var _10e,_10f;var _110=_103.endOffset;if(rs.length<_110){ret=this._adjustNodeAndOffset(rs,_110);rs=ret.node;_110=ret.offset;}txt=rs.nodeValue;_104=doc.createTextNode(txt.substring(0,_110));var _111=txt.substring(_110,txt.length);if(_111){_105=doc.createTextNode(_111);}_5f.place(_104,rs,"before");if(_105){_106=doc.createElement("span");_106.className="ieFormatBreakerSpan";_5f.place(_106,rs,"after");_5f.place(_105,_106,"after");_105=_106;}_5f.destroy(rs);var _112=_104.parentNode;var _113=[];var _114;while(_112!==_10b){var tg=_112.tagName;_114={tagName:tg};_113.push(_114);var _115=doc.createElement(tg);if(_112.style){if(_115.style){if(_112.style.cssText){_115.style.cssText=_112.style.cssText;_114.cssText=_112.style.cssText;}}}if(_112.tagName==="FONT"){if(_112.color){_115.color=_112.color;_114.color=_112.color;}if(_112.face){_115.face=_112.face;_114.face=_112.face;}if(_112.size){_115.size=_112.size;_114.size=_112.size;}}if(_112.className){_115.className=_112.className;_114.className=_112.className;}if(_105){_10e=_105;while(_10e){_10f=_10e.nextSibling;_115.appendChild(_10e);_10e=_10f;}}if(_115.tagName==_112.tagName){_106=doc.createElement("span");_106.className="ieFormatBreakerSpan";_5f.place(_106,_112,"after");_5f.place(_115,_106,"after");}else{_5f.place(_115,_112,"after");}_104=_112;_105=_115;_112=_112.parentNode;}if(_105){_10e=_105;if(_10e.nodeType===1||(_10e.nodeType===3&&_10e.nodeValue)){_10d.innerHTML="";}while(_10e){_10f=_10e.nextSibling;_10d.appendChild(_10e);_10e=_10f;}}var _116;if(_113.length){_114=_113.pop();var _117=doc.createElement(_114.tagName);if(_114.cssText&&_117.style){_117.style.cssText=_114.cssText;}if(_114.className){_117.className=_114.className;}if(_114.tagName==="FONT"){if(_114.color){_117.color=_114.color;}if(_114.face){_117.face=_114.face;}if(_114.size){_117.size=_114.size;}}_5f.place(_117,_10d,"before");while(_113.length){_114=_113.pop();var _118=doc.createElement(_114.tagName);if(_114.cssText&&_118.style){_118.style.cssText=_114.cssText;}if(_114.className){_118.className=_114.className;}if(_114.tagName==="FONT"){if(_114.color){_118.color=_114.color;}if(_114.face){_118.face=_114.face;}if(_114.size){_118.size=_114.size;}}_117.appendChild(_118);_117=_118;}_107=doc.createTextNode(".");_106.appendChild(_107);_117.appendChild(_107);_116=_6f.create(this.window);_116.setStart(_107,0);_116.setEnd(_107,_107.length);_102.removeAllRanges();_102.addRange(_116);this.selection.collapse(false);_107.parentNode.innerHTML="";}else{_106=doc.createElement("span");_106.className="ieFormatBreakerSpan";_107=doc.createTextNode(".");_106.appendChild(_107);_5f.place(_106,_10d,"before");_116=_6f.create(this.window);_116.setStart(_107,0);_116.setEnd(_107,_107.length);_102.removeAllRanges();_102.addRange(_116);this.selection.collapse(false);_107.parentNode.innerHTML="";}if(!_10d.firstChild){_5f.destroy(_10d);}return true;}}return false;}else{_103=_102.getRangeAt(0);rs=_103.startContainer;if(rs&&rs.nodeType===3){var _10a=_103.startOffset;if(rs.length<_10a){ret=this._adjustNodeAndOffset(rs,_10a);rs=ret.node;_10a=ret.offset;}txt=rs.nodeValue;_104=doc.createTextNode(txt.substring(0,_10a));var _111=txt.substring(_10a);if(_111!==""){_105=doc.createTextNode(txt.substring(_10a));}_106=doc.createElement("span");_107=doc.createTextNode(".");_106.appendChild(_107);if(_104.length){_5f.place(_104,rs,"after");}else{_104=rs;}_5f.place(_106,_104,"after");if(_105){_5f.place(_105,_106,"after");}_5f.destroy(rs);var _116=_6f.create(this.window);_116.setStart(_107,0);_116.setEnd(_107,_107.length);_102.removeAllRanges();_102.addRange(_116);doc.execCommand(_101);_5f.place(_106.firstChild,_106,"before");_5f.destroy(_106);_116.setStart(_107,0);_116.setEnd(_107,_107.length);_102.removeAllRanges();_102.addRange(_116);this.selection.collapse(false);_107.parentNode.innerHTML="";return true;}}}else{return false;}},_adaptIEList:function(_119){var _11a=_6f.getSelection(this.window);if(_11a.isCollapsed){if(_11a.rangeCount&&!this.queryCommandValue(_119)){var _11b=_11a.getRangeAt(0);var sc=_11b.startContainer;if(sc&&sc.nodeType==3){if(!_11b.startOffset){var _11c="ul";if(_119==="insertorderedlist"){_11c="ol";}var list=this.document.createElement(_11c);var li=_5f.create("li",null,list);_5f.place(list,sc,"before");li.appendChild(sc);_5f.create("br",null,list,"after");var _11d=_6f.create(this.window);_11d.setStart(sc,0);_11d.setEnd(sc,sc.length);_11a.removeAllRanges();_11a.addRange(_11d);this.selection.collapse(true);return true;}}}}return false;},_handleTextColorOrProperties:function(_11e,_11f){var _120=_6f.getSelection(this.window);var doc=this.document;var rs,ret,_121,txt,_122,_123,_124,_125;_11f=_11f||null;if(_11e&&_120&&_120.isCollapsed){if(_120.rangeCount){_121=_120.getRangeAt(0);rs=_121.startContainer;if(rs&&rs.nodeType===3){var _126=_121.startOffset;if(rs.length<_126){ret=this._adjustNodeAndOffset(rs,_126);rs=ret.node;_126=ret.offset;}txt=rs.nodeValue;_122=doc.createTextNode(txt.substring(0,_126));var _127=txt.substring(_126);if(_127!==""){_123=doc.createTextNode(txt.substring(_126));}_124=doc.createElement("span");_125=doc.createTextNode(".");_124.appendChild(_125);var _128=doc.createElement("span");_124.appendChild(_128);if(_122.length){_5f.place(_122,rs,"after");}else{_122=rs;}_5f.place(_124,_122,"after");if(_123){_5f.place(_123,_124,"after");}_5f.destroy(rs);var _129=_6f.create(this.window);_129.setStart(_125,0);_129.setEnd(_125,_125.length);_120.removeAllRanges();_120.addRange(_129);if(has("webkit")){var _12a="color";if(_11e==="hilitecolor"||_11e==="backcolor"){_12a="backgroundColor";}_61.set(_124,_12a,_11f);this.selection.remove();_5f.destroy(_128);_124.innerHTML="&#160;";this.selection.selectElement(_124);this.focus();}else{this.execCommand(_11e,_11f);_5f.place(_124.firstChild,_124,"before");_5f.destroy(_124);_129.setStart(_125,0);_129.setEnd(_125,_125.length);_120.removeAllRanges();_120.addRange(_129);this.selection.collapse(false);_125.parentNode.removeChild(_125);}return true;}}}return false;},_adjustNodeAndOffset:function(node,_12b){while(node.length<_12b&&node.nextSibling&&node.nextSibling.nodeType===3){_12b=_12b-node.length;node=node.nextSibling;}return {"node":node,"offset":_12b};},_tagNamesForCommand:function(_12c){if(_12c==="bold"){return ["b","strong"];}else{if(_12c==="italic"){return ["i","em"];}else{if(_12c==="strikethrough"){return ["s","strike"];}else{if(_12c==="superscript"){return ["sup"];}else{if(_12c==="subscript"){return ["sub"];}else{if(_12c==="underline"){return ["u"];}}}}}}return [];},_stripBreakerNodes:function(node){if(!this.isLoaded){return;}_65(".ieFormatBreakerSpan",node).forEach(function(b){while(b.firstChild){_5f.place(b.firstChild,b,"before");}_5f.destroy(b);});return node;},_stripTrailingEmptyNodes:function(node){function _12d(node){return (/^(p|div|br)$/i.test(node.nodeName)&&node.children.length==0&&/^[\s\xA0]*$/.test(node.textContent||node.innerText||""))||(node.nodeType===3&&/^[\s\xA0]*$/.test(node.nodeValue));};while(node.lastChild&&_12d(node.lastChild)){_5f.destroy(node.lastChild);}return node;},_setTextDirAttr:function(_12e){this._set("textDir",_12e);this.onLoadDeferred.then(_64.hitch(this,function(){this.editNode.dir=_12e;}));}});return _73;});},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(_12f){return function(_130,_131){switch(typeof _130){default:throw new Error("Can not query with a "+typeof _130);case "object":case "undefined":var _132=_130;_130=function(_133){for(var key in _132){var _134=_132[key];if(_134&&_134.test){if(!_134.test(_133[key],_133)){return false;}}else{if(_134!=_133[key]){return false;}}}return true;};break;case "string":if(!this[_130]){throw new Error("No filter function "+_130+" was found in store");}_130=this[_130];case "function":}function _135(_136){var _137=_12f.filter(_136,_130);var _138=_131&&_131.sort;if(_138){_137.sort(typeof _138=="function"?_138:function(a,b){for(var sort,i=0;sort=_138[i];i++){var _139=a[sort.attribute];var _13a=b[sort.attribute];_139=_139!=null?_139.valueOf():_139;_13a=_13a!=null?_13a.valueOf():_13a;if(_139!=_13a){return !!sort.descending==(_139==null||_139>_13a)?-1:1;}}return 0;});}if(_131&&(_131.start||_131.count)){var _13b=_137.length;_137=_137.slice(_131.start||0,(_131.start||0)+(_131.count||Infinity));_137.total=_13b;}return _137;};_135.matches=_130;return _135;};});},"dijit/_editor/html":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(_13c,lang,has){var _13d={};lang.setObject("dijit._editor.html",_13d);var _13e=_13d.escapeXml=function(str,_13f){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_13f){str=str.replace(/'/gm,"&#39;");}return str;};_13d.getNodeHtml=function(node){var _140=[];_13d.getNodeHtmlHelper(node,_140);return _140.join("");};_13d.getNodeHtmlHelper=function(node,_141){switch(node.nodeType){case 1:var _142=node.nodeName.toLowerCase();if(!_142||_142.charAt(0)=="/"){return "";}_141.push("<",_142);var _143=[],_144={};var attr;if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){var i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _144)){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}if(has("ie")===8&&n==="style"){v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");}_143.push([n,v]);_144[n]=v;}}}else{var _145=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);var s=_145.outerHTML;var _146=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;var _147=s.match(_146);s=s.substr(0,s.indexOf(">"));_13c.forEach(_147,function(attr){if(attr){var idx=attr.indexOf("=");if(idx>0){var key=attr.substring(0,idx);if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_143.push([key,node.getAttribute("_djrealurl")]);return;}}var val,_148;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;case "width":if(_142==="img"){_148=/width=(\S+)/i.exec(s);if(_148){val=_148[1];}break;}case "height":if(_142==="img"){_148=/height=(\S+)/i.exec(s);if(_148){val=_148[1];}break;}default:val=node.getAttribute(key);}if(val!=null){_143.push([key,val.toString()]);}}}}},this);}_143.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_143[j++])){_141.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_13e(attr[1],true):attr[1]),"\"");}switch(_142){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_141.push(" />");break;case "script":_141.push(">",node.innerHTML,"</",_142,">");break;default:_141.push(">");if(node.hasChildNodes()){_13d.getChildrenHtmlHelper(node,_141);}_141.push("</",_142,">");}break;case 4:case 3:_141.push(_13e(node.nodeValue,true));break;case 8:_141.push("<!--",_13e(node.nodeValue,true),"-->");break;default:_141.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");}};_13d.getChildrenHtml=function(node){var _149=[];_13d.getChildrenHtmlHelper(node,_149);return _149.join("");};_13d.getChildrenHtmlHelper=function(dom,_14a){if(!dom){return;}var _14b=dom["childNodes"]||dom;var _14c=!has("ie")||_14b!==dom;var node,i=0;while((node=_14b[i++])){if(!_14c||node.parentNode==dom){_13d.getNodeHtmlHelper(node,_14a);}}};return _13d;});},"dijit/form/_TextBoxMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/sniff","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_14d,_14e,dom,has,keys,lang,on,_14f){var _150=_14e("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_151,_152,_153){var _154;if(_151!==undefined){_154=this.filter(_151);if(typeof _153!="string"){if(_154!==null&&((typeof _154!="number")||!isNaN(_154))){_153=this.filter(this.format(_154,this.constraints));}else{_153="";}if(this.compare(_154,this.filter(this.parse(_153,this.constraints)))!=0){_153=null;}}}if(_153!=null&&((typeof _153)!="number"||!isNaN(_153))&&this.textbox.value!=_153){this.textbox.value=_153;this._set("displayedValue",this.get("displayedValue"));}this.inherited(arguments,[_154,_152]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_155){if(_155==null){_155="";}else{if(typeof _155!="string"){_155=String(_155);}}this.textbox.value=_155;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));},format:function(_156){return _156==null?"":(_156.toString?_156.toString():_156);},parse:function(_157){return _157;},_refreshState:function(){},onInput:function(){},_onInput:function(evt){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||evt);delete this._lastInputProducingEvent;if(this.intermediateChanges){this._handleOnChange(this.get("value"),false);}},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);function _158(e){var _159;if(e.type=="keydown"&&e.keyCode!=229){_159=e.keyCode;switch(_159){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_159){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_159>=65&&_159<=90)||(_159>=48&&_159<=57)||_159==keys.SPACE){return;}var _15a=false;for(var i in keys){if(keys[i]===e.keyCode){_15a=true;break;}}if(!_15a){return;}}}_159=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_159){_159=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_159){_159=229;}if(e.type=="keypress"){if(typeof _159!="string"){return;}if((_159>="a"&&_159<="z")||(_159>="A"&&_159<="Z")||(_159>="0"&&_159<="9")||(_159===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}var faux={faux:true},attr;for(attr in e){if(!/^(layer[XY]|returnValue|keyLocation)$/.test(attr)){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_159,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});this._lastInputProducingEvent=faux;if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}if(has("ie")<=9){switch(e.keyCode){case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:break;default:if(e.keyCode==keys.ENTER&&this.textbox.tagName.toLowerCase()!="textarea"){break;}this.defer(function(){if(this.textbox.value!==this._lastInputEventValue){on.emit(this.textbox,"input",{bubbles:true});}});}}};this.own(on(this.textbox,"keydown, keypress, paste, cut, compositionend",lang.hitch(this,_158)),on(this.textbox,"input",lang.hitch(this,"_onInput")),on(this.domNode,"keypress",function(e){e.stopPropagation();}));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){if(!this._isTextSelected()){_150.selectInputText(this.textbox);}}));this.own(this._selectOnClickHandle);this.defer(function(){if(this._selectOnClickHandle){this._selectOnClickHandle.remove();this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);}});if(has("dojo-bidi")){_150=_14e("dijit.form._TextBoxMixin",_150,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode);},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments);}});}_150._setSelectionRange=_14f._setSelectionRange=function(_15b,_15c,stop){if(_15b.setSelectionRange){_15b.setSelectionRange(_15c,stop);}};_150.selectInputText=_14f.selectInputText=function(_15d,_15e,stop){_15d=dom.byId(_15d);if(isNaN(_15e)){_15e=0;}if(isNaN(stop)){stop=_15d.value?_15d.value.length:0;}try{_15d.focus();_150._setSelectionRange(_15d,_15e,stop);}catch(e){}};return _150;});},"dojox/html/format":function(){define(["dojo/_base/kernel","./entities","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_15f,_160,_161,has){var dhf=lang.getObject("dojox.html.format",true);dhf.prettyPrint=function(html,_162,_163,map,_164){var _165=[];var _166=0;var _167=[];var iTxt="\t";var _168="";var _169=[];var i;var _16a=/[=]([^"']+?)(\s|>)/g;var _16b=/style=("[^"]*"|'[^']*'|\S*)/gi;var _16c=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;if(_162&&_162>0&&_162<10){iTxt="";for(i=0;i<_162;i++){iTxt+=" ";}}var _16d=_161.doc.createElement("div");_16d.innerHTML=html;var _16e=_15f.encode;var _16f=_15f.decode;var _170=function(tag){switch(tag){case "a":case "b":case "strong":case "s":case "strike":case "i":case "u":case "em":case "sup":case "sub":case "span":case "font":case "big":case "cite":case "q":case "small":return true;default:return false;}};var div=_16d.ownerDocument.createElement("div");var _171=function(node){var _172=node.cloneNode(false);div.appendChild(_172);var html=div.innerHTML;div.innerHTML="";return html;};var _173=function(){var i,txt="";for(i=0;i<_166;i++){txt+=iTxt;}return txt.length;};var _174=function(){var i;for(i=0;i<_166;i++){_165.push(iTxt);}};var _175=function(){_165.push("\n");};var _176=function(n){_168+=_16e(n.nodeValue,map);};var _177=function(txt){var i;var _178;var _179=txt.split("\n");for(i=0;i<_179.length;i++){_179[i]=lang.trim(_179[i]);}txt=_179.join(" ");txt=lang.trim(txt);if(txt!==""){var _17a=[];if(_163&&_163>0){var _17b=_173();var _17c=_163;if(_163>_17b){_17c-=_17b;}while(txt){if(txt.length>_163){for(i=_17c;(i>0&&txt.charAt(i)!==" ");i--){}if(!i){for(i=_17c;(i<txt.length&&txt.charAt(i)!==" ");i++){}}var line=txt.substring(0,i);line=lang.trim(line);txt=lang.trim(txt.substring((i==txt.length)?txt.length:i+1,txt.length));if(line){_178="";for(i=0;i<_166;i++){_178+=iTxt;}line=_178+line+"\n";}_17a.push(line);}else{_178="";for(i=0;i<_166;i++){_178+=iTxt;}txt=_178+txt+"\n";_17a.push(txt);txt=null;}}return _17a.join("");}else{_178="";for(i=0;i<_166;i++){_178+=iTxt;}txt=_178+txt+"\n";return txt;}}else{return "";}};var _17d=function(txt){if(txt){txt=txt.replace(/&quot;/gi,"\"");txt=txt.replace(/&gt;/gi,">");txt=txt.replace(/&lt;/gi,"<");txt=txt.replace(/&amp;/gi,"&");}return txt;};var _17e=function(txt){if(txt){txt=_17d(txt);var i,t,c,_17f;var _180=0;var _181=txt.split("\n");var _182=[];for(i=0;i<_181.length;i++){var line=_181[i];var _183=(line.indexOf("\n")>-1);line=lang.trim(line);if(line){var _184=_180;for(c=0;c<line.length;c++){var ch=line.charAt(c);if(ch==="{"){_180++;}else{if(ch==="}"){_180--;_184=_180;}}}_17f="";for(t=0;t<_166+_184;t++){_17f+=iTxt;}_182.push(_17f+line+"\n");}else{if(_183&&i===0){_182.push("\n");}}}txt=_182.join("");}return txt;};var _185=function(node){var name=node.nodeName.toLowerCase();var _186=lang.trim(_171(node));var tag=_186.substring(0,_186.indexOf(">")+1);tag=tag.replace(_16a,"=\"$1\"$2");tag=tag.replace(_16b,function(_187){var sL=_187.substring(0,6);var _188=_187.substring(6,_187.length);var _189=_188.charAt(0);_188=lang.trim(_188.substring(1,_188.length-1));_188=_188.split(";");var _18a=[];_160.forEach(_188,function(s){s=lang.trim(s);if(s){s=s.substring(0,s.indexOf(":")).toLowerCase()+s.substring(s.indexOf(":"),s.length);_18a.push(s);}});_18a=_18a.sort();_188=_18a.join("; ");var ts=lang.trim(_188);if(!ts||ts===";"){return "";}else{_188+=";";return sL+_189+_188+_189;}});var _18b=[];tag=tag.replace(_16c,function(attr){_18b.push(lang.trim(attr));return "";});_18b=_18b.sort();tag="<"+name;if(_18b.length){tag+=" "+_18b.join(" ");}if(_186.indexOf("</")!=-1){_167.push(name);tag+=">";}else{if(_164){tag+=" />";}else{tag+=">";}_167.push(false);}var _18c=_170(name);_169.push(_18c);if(_168&&!_18c){_165.push(_177(_168));_168="";}if(!_18c){_174();_165.push(tag);_175();_166++;}else{_168+=tag;}};var _18d=function(){var _18e=_169.pop();if(_168&&!_18e){_165.push(_177(_168));_168="";}var ct=_167.pop();if(ct){ct="</"+ct+">";if(!_18e){_166--;_174();_165.push(ct);_175();}else{_168+=ct;}}else{_166--;}};var _18f=function(n){var _190=_16f(n.nodeValue,map);_174();_165.push("<!--");_175();_166++;_165.push(_177(_190));_166--;_174();_165.push("-->");_175();};var _191=function(node){var _192=node.childNodes;if(_192){var i;for(i=0;i<_192.length;i++){var n=_192[i];if(n.nodeType===1){var tg=lang.trim(n.tagName.toLowerCase());if(has("ie")&&n.parentNode!=node){continue;}if(tg&&tg.charAt(0)==="/"){continue;}else{_185(n);if(tg==="script"){_165.push(_17e(n.innerHTML));}else{if(tg==="pre"){var _193=n.innerHTML;if(has("mozilla")){_193=_193.replace("<br>","\n");_193=_193.replace("<pre>","");_193=_193.replace("</pre>","");}if(_193.charAt(_193.length-1)!=="\n"){_193+="\n";}_165.push(_193);}else{_191(n);}}_18d();}}else{if(n.nodeType===3||n.nodeType===4){_176(n);}else{if(n.nodeType===8){_18f(n);}}}}}};_191(_16d);if(_168){_165.push(_177(_168));_168="";}return _165.join("");};return dhf;});},"dijit/_editor/plugins/TextColor":function(){define(["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_194,_195,_196,lang,_197,_198){var _199=_196("dijit._editor.plugins.TextColor",_197,{buttonClass:_198,colorPicker:"dijit/ColorPalette",useDefaultCommand:false,_initButton:function(){this.command=this.name;this.inherited(arguments);var self=this;this.button.loadDropDown=function(_19a){function _19b(_19c){self.button.dropDown=new _19c({dir:self.editor.dir,ownerDocument:self.editor.ownerDocument,value:self.value,onChange:function(_19d){self.editor.execCommand(self.command,_19d);},onExecute:function(){self.editor.execCommand(self.command,this.get("value"));}});_19a();};if(typeof self.colorPicker=="string"){_194([self.colorPicker],_19b);}else{_19b(self.colorPicker);}};},updateState:function(){var _19e=this.editor;var _19f=this.command;if(!_19e||!_19e.isLoaded||!_19f.length){return;}if(this.button){var _1a0=this.get("disabled");this.button.set("disabled",_1a0);if(_1a0){return;}var _1a1;try{_1a1=_19e.queryCommandValue(_19f)||"";}catch(e){_1a1="";}}if(_1a1==""){_1a1="#000000";}if(_1a1=="transparent"){_1a1="#ffffff";}if(typeof _1a1=="string"){if(_1a1.indexOf("rgb")>-1){_1a1=_195.fromRgb(_1a1).toHex();}}else{_1a1=((_1a1&255)<<16)|(_1a1&65280)|((_1a1&16711680)>>>16);_1a1=_1a1.toString(16);_1a1="#000000".slice(0,7-_1a1.length)+_1a1;}this.value=_1a1;var _1a2=this.button.dropDown;if(_1a2&&_1a2.get&&_1a1!==_1a2.get("value")){_1a2.set("value",_1a1,false);}}});_197.registry["foreColor"]=function(args){return new _199(args);};_197.registry["hiliteColor"]=function(args){return new _199(args);};return _199;});},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_1a3,has,_1a4,_1a5){return _1a3("dijit.form.MappedTextBox",_1a5,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:"valueNode",serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_1a4.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_1a6,_1a7,keys,lang,on,has,_1a8){return _1a6("dijit.form._FormValueMixin",_1a8,{readOnly:false,_setReadOnlyAttr:function(_1a9){if(has("trident")&&"disabled" in this){_1a7.set(this.focusNode,"readOnly",_1a9||this.disabled);}else{_1a7.set(this.focusNode,"readOnly",_1a9);}this._set("readOnly",_1a9);},postCreate:function(){this.inherited(arguments);if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_1aa,_1ab){this._handleOnChange(_1aa,_1ab);},_handleOnChange:function(_1ac,_1ad){this._set("value",_1ac);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);}});});},"dijit/_editor/range":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_1ae,_1af,lang){var _1b0={getIndex:function(node,_1b1){var ret=[],retR=[];var _1b2=node;var _1b3,n;while(node!=_1b1){var i=0;_1b3=node.parentNode;while((n=_1b3.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_1b3.childNodes.length);node=_1b3;}if(ret.length>0&&_1b2.nodeType==3){n=_1b2.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_1b2.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};},getNode:function(_1b4,_1b5){if(!lang.isArray(_1b4)||_1b4.length==0){return _1b5;}var node=_1b5;_1ae.every(_1b4,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;},getCommonAncestor:function(n1,n2,root){root=root||n1.ownerDocument.body;var _1b6=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_1b6(n1);var n2as=_1b6(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;},getAncestor:function(node,_1b7,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_1b7.test(name)){return node;}node=node.parentNode;}return null;},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(node,_1b8,root){root=root||node.ownerDocument.body;_1b8=_1b8||_1b0.BlockTagNames;var _1b9=null,_1ba;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_1b9&&_1b8.test(name)){_1b9=node;}if(!_1ba&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_1ba=node;}node=node.parentNode;}return {blockNode:_1b9,blockContainer:_1ba||node.ownerDocument.body};},atBeginningOfContainer:function(_1bb,node,_1bc){var _1bd=false;var _1be=(_1bc==0);if(!_1be&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_1bc))){_1be=true;}}if(_1be){var _1bf=node;_1bd=true;while(_1bf&&_1bf!==_1bb){if(_1bf.previousSibling){_1bd=false;break;}_1bf=_1bf.parentNode;}}return _1bd;},atEndOfContainer:function(_1c0,node,_1c1){var _1c2=false;var _1c3=(_1c1==(node.length||node.childNodes.length));if(!_1c3&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_1c1))){_1c3=true;}}if(_1c3){var _1c4=node;_1c2=true;while(_1c4&&_1c4!==_1c0){if(_1c4.nextSibling){_1c2=false;break;}_1c4=_1c4.parentNode;}}return _1c2;},adjacentNoneTextNode:function(_1c5,next){var node=_1c5;var len=(0-_1c5.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];},create:function(win){win=win||window;if(win.getSelection){return win.document.createRange();}else{return new _1c6();}},getSelection:function(_1c7,_1c8){if(_1c7.getSelection){return _1c7.getSelection();}else{var s=new ie.selection(_1c7);if(!_1c8){s._getCurrentSelection();}return s;}}};if(!window.getSelection){var ie=_1b0.ie={cachedSelection:{},selection:function(_1c9){this._ranges=[];this.addRange=function(r,_1ca){this._ranges.push(r);if(!_1ca){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _1cb=function(){var r=_1c9.document.selection.createRange();var type=_1c9.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _1c6(ie.decomposeControlRange(r));}else{return new _1c6(ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_1cb();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(_1cc){var _1cd=_1cc.item(0),_1ce=_1cc.item(_1cc.length-1);var _1cf=_1cd.parentNode,_1d0=_1ce.parentNode;var _1d1=_1b0.getIndex(_1cd,_1cf).o[0];var _1d2=_1b0.getIndex(_1ce,_1d0).o[0]+1;return [_1cf,_1d1,_1d0,_1d2];},getEndPoint:function(_1d3,end){var _1d4=_1d3.duplicate();_1d4.collapse(!end);var _1d5="EndTo"+(end?"End":"Start");var _1d6=_1d4.parentElement();var _1d7,_1d8,_1d9;if(_1d6.childNodes.length>0){_1ae.every(_1d6.childNodes,function(node,i){var _1da;if(node.nodeType!=3){_1d4.moveToElementText(node);if(_1d4.compareEndPoints(_1d5,_1d3)>0){if(_1d9&&_1d9.nodeType==3){_1d7=_1d9;_1da=true;}else{_1d7=_1d6;_1d8=i;return false;}}else{if(i==_1d6.childNodes.length-1){_1d7=_1d6;_1d8=_1d6.childNodes.length;return false;}}}else{if(i==_1d6.childNodes.length-1){_1d7=node;_1da=true;}}if(_1da&&_1d7){var _1db=_1b0.adjacentNoneTextNode(_1d7)[0];if(_1db){_1d7=_1db.nextSibling;}else{_1d7=_1d6.firstChild;}var _1dc=_1b0.adjacentNoneTextNode(_1d7);_1db=_1dc[0];var _1dd=_1dc[1];if(_1db){_1d4.moveToElementText(_1db);_1d4.collapse(false);}else{_1d4.moveToElementText(_1d6);}_1d4.setEndPoint(_1d5,_1d3);_1d8=_1d4.text.length-_1dd;return false;}_1d9=node;return true;});}else{_1d7=_1d6;_1d8=0;}if(!end&&_1d7.nodeType==1&&_1d8==_1d7.childNodes.length){var _1de=_1d7.nextSibling;if(_1de&&_1de.nodeType==3){_1d7=_1de;_1d8=0;}}return [_1d7,_1d8];},setEndPoint:function(_1df,_1e0,_1e1){var _1e2=_1df.duplicate(),node,len;if(_1e0.nodeType!=3){if(_1e1>0){node=_1e0.childNodes[_1e1-1];if(node){if(node.nodeType==3){_1e0=node;_1e1=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_1e0=node.nextSibling;_1e1=0;}else{_1e2.moveToElementText(node.nextSibling?node:_1e0);var _1e3=node.parentNode;var _1e4=_1e3.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_1e2.collapse(false);_1e3.removeChild(_1e4);}}}}else{_1e2.moveToElementText(_1e0);_1e2.collapse(true);}}if(_1e0.nodeType==3){var _1e5=_1b0.adjacentNoneTextNode(_1e0);var _1e6=_1e5[0];len=_1e5[1];if(_1e6){_1e2.moveToElementText(_1e6);_1e2.collapse(false);if(_1e6.contentEditable!="inherit"){len++;}}else{_1e2.moveToElementText(_1e0.parentNode);_1e2.collapse(true);_1e2.move("character",1);_1e2.move("character",-1);}_1e1+=len;if(_1e1>0){if(_1e2.move("character",_1e1)!=_1e1){console.error("Error when moving!");}}}return _1e2;},decomposeTextRange:function(_1e7){var _1e8=ie.getEndPoint(_1e7);var _1e9=_1e8[0],_1ea=_1e8[1];var _1eb=_1e8[0],_1ec=_1e8[1];if(_1e7.htmlText.length){if(_1e7.htmlText==_1e7.text){_1ec=_1ea+_1e7.text.length;}else{_1e8=ie.getEndPoint(_1e7,true);_1eb=_1e8[0],_1ec=_1e8[1];}}return [_1e9,_1ea,_1eb,_1ec];},setRange:function(_1ed,_1ee,_1ef,_1f0,_1f1,_1f2){var _1f3=ie.setEndPoint(_1ed,_1ee,_1ef);_1ed.setEndPoint("StartToStart",_1f3);if(!_1f2){var end=ie.setEndPoint(_1ed,_1f0,_1f1);}_1ed.setEndPoint("EndToEnd",end||_1f3);return _1ed;}};var _1c6=_1b0.W3CRange=_1af(null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_1b0.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_1f4){_1f4=parseInt(_1f4);if(this.startContainer===node&&this.startOffset==_1f4){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_1f4;if(!this.endContainer){this.setEnd(node,_1f4);}else{this._updateInternal();}},setEnd:function(node,_1f5){_1f5=parseInt(_1f5);if(this.endContainer===node&&this.endOffset==_1f5){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_1f5;if(!this.startContainer){this.setStart(node,_1f5);}else{this._updateInternal();}},setStartAfter:function(node,_1f6){this._setPoint("setStart",node,_1f6,1);},setStartBefore:function(node,_1f7){this._setPoint("setStart",node,_1f7,0);},setEndAfter:function(node,_1f8){this._setPoint("setEnd",node,_1f8,1);},setEndBefore:function(node,_1f9){this._setPoint("setEnd",node,_1f9,0);},_setPoint:function(what,node,_1fa,ext){var _1fb=_1b0.getIndex(node,node.parentNode).o;this[what](node.parentNode,_1fb.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _1c6([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}lang.setObject("dijit.range",_1b0);return _1b0;});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(_1fc,_1fd,_1fe,lang,_1ff){return _1fe("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var node=this.domNode;if(this.containerNode&&!this.searchContainerNode){this.containerNode.stopParser=true;}_1ff.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_200){this._startupWidgets=_200;for(var i=0;i<_200.length;i++){this._processTemplateNode(_200[i],function(n,p){return n[p];},function(_201,type,_202){if(type in _201){return _201.connect(_201,type,_202);}else{return _201.on(type,_202,true);}});}if(this.containerNode&&this.containerNode.stopParser){delete this.containerNode.stopParser;}}));if(!this._startupWidgets){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}}},_processTemplateNode:function(_203,_204,_205){if(_204(_203,"dojoType")||_204(_203,"data-dojo-type")){return true;}return this.inherited(arguments);},startup:function(){_1fc.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this._startupWidgets=null;this.inherited(arguments);}});});},"dijit/_KeyNavMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_206,_207,_208,keys,lang,on,_209,_20a){return _207("dijit._KeyNavMixin",_20a,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);_208.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var _20b=this._keyNavCodes={};_20b[keys.HOME]=lang.hitch(this,"focusFirstChild");_20b[keys.END]=lang.hitch(this,"focusLastChild");_20b[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");_20b[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");_20b[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");_20b[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");}var self=this,_20c=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_20c,"focusin"),function(evt){self._onChildFocus(_209.getEnclosingWidget(this),evt);}));},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusChild:function(_20d,last){if(!_20d){return;}if(this.focusedChild&&_20d!==this.focusedChild){this._onChildBlur(this.focusedChild);}_20d.set("tabIndex",this.tabIndex);_20d.focus(last?"end":"start");},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focus();},_onFocus:function(){_208.set(this.domNode,"tabIndex","-1");this.inherited(arguments);},_onBlur:function(evt){_208.set(this.domNode,"tabIndex",this.tabIndex);if(this.focusedChild){this.focusedChild.set("tabIndex","-1");this.lastFocusedChild=this.focusedChild;this._set("focusedChild",null);}this.inherited(arguments);},_onChildFocus:function(_20e){if(_20e&&_20e!=this.focusedChild){if(this.focusedChild&&!this.focusedChild._destroyed){this.focusedChild.set("tabIndex","-1");}_20e.set("tabIndex",this.tabIndex);this.lastFocused=_20e;this._set("focusedChild",_20e);}},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_20f,_210){if(item){this.focusChild(item);}},_keyboardSearchCompare:function(item,_211){var _212=item.domNode,text=item.label||(_212.focusNode?_212.focusNode.label:"")||_212.innerText||_212.textContent||"",_213=text.replace(/^\s+/,"").substr(0,_211.length).toLowerCase();return (!!_211.length&&_213==_211)?-1:0;},_onContainerKeydown:function(evt){var func=this._keyNavCodes[evt.keyCode];if(func){func(evt,this.focusedChild);evt.stopPropagation();evt.preventDefault();this._searchString="";}else{if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){evt.stopImmediatePropagation();evt.preventDefault();this._keyboardSearch(evt," ");}}},_onContainerKeypress:function(evt){if(evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey){return;}evt.preventDefault();evt.stopPropagation();this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());},_keyboardSearch:function(evt,_214){var _215=null,_216,_217=0,_218=lang.hitch(this,function(){if(this._searchTimer){this._searchTimer.remove();}this._searchString+=_214;var _219=/^(.)\1*$/.test(this._searchString);var _21a=_219?1:this._searchString.length;_216=this._searchString.substr(0,_21a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString="";},this.multiCharSearchDuration);var _21b=this.focusedChild||null;if(_21a==1||!_21b){_21b=this._getNextFocusableChild(_21b,1);if(!_21b){return;}}var stop=_21b;do{var rc=this._keyboardSearchCompare(_21b,_216);if(!!rc&&_217++==0){_215=_21b;}if(rc==-1){_217=-1;break;}_21b=this._getNextFocusableChild(_21b,1);}while(_21b&&_21b!=stop);});_218();this.onKeyboardSearch(_215,evt,_216,_217);},_onChildBlur:function(){},_getNextFocusableChild:function(_21c,dir){var _21d=_21c;do{if(!_21c){_21c=this[dir>0?"_getFirst":"_getLast"]();if(!_21c){break;}}else{_21c=this._getNext(_21c,dir);}if(_21c!=null&&_21c!=_21d&&_21c.isFocusable()){return _21c;}}while(_21c!=_21d);return null;},_getFirst:function(){return null;},_getLast:function(){return null;},_getNext:function(_21e,dir){if(_21e){_21e=_21e.domNode;while(_21e){_21e=_21e[dir<0?"previousSibling":"nextSibling"];if(_21e&&"getAttribute" in _21e){var w=_209.byNode(_21e);if(w){return w;}}}}return null;}});});},"dijit/form/ComboBoxMixin":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_21f,_220,_221,lang,_222,_223,_224,_225,_226){return _21f("dijit.form.ComboBoxMixin",[_225,_223],{dropDownClass:_224,hasDownArrow:true,templateString:_226,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_227){if(!_227.get){lang.mixin(_227,{_oldAPI:true,get:function(id){var _228=new _220();this.fetchItemByIdentity({identity:id,onItem:function(_229){_228.resolve(_229);},onError:function(_22a){_228.reject(_22a);}});return _228.promise;},query:function(_22b,_22c){var _22d=new _220(function(){_22e.abort&&_22e.abort();});_22d.total=new _220();var _22e=this.fetch(lang.mixin({query:_22b,onBegin:function(_22f){_22d.total.resolve(_22f);},onComplete:function(_230){_22d.resolve(_230);},onError:function(_231){_22d.reject(_231);}},_22c));return _222(_22d);}});}this._set("store",_227);},postMixInProperties:function(){var _232=this.params.store||this.store;if(_232){this._setStoreAttr(_232);}this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var _233=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_221.deprecated(_233+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_221.deprecated(_233+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_221.deprecated(_233+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_234){new _234({objectStore:this}).fetch(args);}));}});}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":"list");}});});},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_235,_236,_237,_238){return _235("dijit.form.ToggleButton",[_237,_238],{baseClass:"dijitToggleButton",setChecked:function(_239){_236.deprecated("setChecked("+_239+") is deprecated. Use set('checked',"+_239+") instead.","","2.0");this.set("checked",_239);}});});},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_23a,dom,has,_23b){var _23c=_23a("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){e.stopPropagation();e.preventDefault();if(!this.disabled){this.valueNode.click(e);}return false;},_onClick:function(e){if(this.disabled){e.stopPropagation();e.preventDefault();return false;}if(this.onClick(e)===false){e.preventDefault();}var _23d=e.defaultPrevented;if(!_23d&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _23e=_23b.byNode(node);if(_23e&&typeof _23e._onSubmit=="function"){_23e._onSubmit(e);e.preventDefault();_23d=true;break;}}}return !_23d;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_23f){this._set("label",_23f);var _240=this.containerNode||this.focusNode;_240.innerHTML=_23f;this.onLabelSet();},onLabelSet:function(){}});if(has("dojo-bidi")){_23c=_23a("dijit.form._ButtonMixin",_23c,{onLabelSet:function(){this.inherited(arguments);var _241=this.containerNode||this.focusNode;this.applyTextDir(_241);}});}return _23c;});},"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_242,_243,lang,i18n,_244,_245,_246){var _247=_242("dijit.form.ValidationTextBox",_244,{templateString:_246,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_248){if(_248!=_247.prototype[attr]){_243.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_248);}},_setRegExpGenAttr:function(_249){this._deprecateRegExp("regExpGen",_249);this._set("regExpGen",this._computeRegexp);},_setRegExpAttr:function(_24a){this._deprecateRegExp("regExp",_24a);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_24b,_24c){return (new RegExp("^(?:"+this._computeRegexp(_24c)+")"+(this.required?"":"?")+"$")).test(_24b)&&(!this.required||!this._isEmpty(_24b))&&(this._isEmpty(_24b)||this.parse(_24b,_24c)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));},_isEmpty:function(_24d){return (this.trim?/^\s*$/:/^$/).test(_24d);},getErrorMessage:function(){var _24e=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _24f=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_24e:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_24f:_24e;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_250){var _251="";var _252=this.disabled||this.isValid(_250);if(_252){this._maskValidSubsetError=true;}var _253=this._isEmpty(this.textbox.value);var _254=!_252&&_250&&this._isValidSubset();this._set("state",_252?"":(((((!this._hasBeenBlurred||_250)&&_253)||_254)&&(this._maskValidSubsetError||(_254&&!this._hasBeenBlurred&&_250)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");if(this.state=="Error"){this._maskValidSubsetError=_250&&_254;_251=this.getErrorMessage(_250);}else{if(this.state=="Incomplete"){_251=this.getPromptMessage(_250);this._maskValidSubsetError=!this._hasBeenBlurred||_250;}else{if(_253){_251=this.getPromptMessage(_250);}}}this.set("message",_251);return _252;},displayMessage:function(_255){if(_255&&this.focused){_245.show(_255,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_245.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_256){this.constraints=lang.clone(this.constraints);this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_257){if(!_257.locale&&this.lang){_257.locale=this.lang;}this._set("constraints",_257);this._refreshState();},_setPatternAttr:function(_258){this._set("pattern",_258);this._refreshState();},_computeRegexp:function(_259){var p=this.pattern;if(typeof p=="function"){p=p.call(this,_259);}if(p!=this._lastRegExp){var _25a="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_25a+=re;break;case ")":_25a+="|$)";break;default:_25a+="(?:"+re+"|$)";break;}});}try{"".search(_25a);}catch(e){_25a=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_25a+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_25b){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_25c){this._set("required",_25c);this.focusNode.setAttribute("aria-required",_25c);this._refreshState();},_setMessageAttr:function(_25d){this._set("message",_25d);this.displayMessage(_25d);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);},destroy:function(){_245.hide(this.domNode);this.inherited(arguments);}});return _247;});},"ibm/tivoli/mbs/dijit/editor/TpaeTextEditor":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/sniff","dijit/Editor","dojo/dom-style"],function(_25e,lang,has,_25f,_260){return _25e("ibm.tivoli.mbs.dijit.editor.TpaeTextEditor",_25f,{saveButtonElement:null,fixFontName:false,onfocusCount:0,timeOfFirstFocus:0,okToFocus:function(id){var _261=new Date().getTime();var _262=(this.timeOfFirstFocus==0||(_261-this.timeOfFirstFocus)>1000);var _263=(id==lastRTEToGetFocus);var _264=(_263&&this.onfocusCount==1);if((rteOnFocusTime==0||(_261-rteOnFocusTime)>100||_264)&&(_262||this.onfocusCount<5)){lastRTEToGetFocus=id;if(_262){rteOnFocusTime=_261;this.onfocusCount=1;this.timeOfFirstFocus=_261;}else{this.onfocusCount++;}return true;}return false;},onLoad:function(html){this.inherited(arguments);var _265=document.getElementById("dijit__editor_plugins__FontSizeDropDown_0_select");if(!_265){_265=document.getElementById("dijit__editor_plugins__FontSizeDropDown_1_select");}if(_265){var _266=_265.closest("span[widgetid]").parentElement.querySelectorAll("[data-dojo-attach-event]:not(.dijitOffScreen)");var _267=_266[_266.length-1];_267.addEventListener("focus",function(_268){window.setTimeout(function(){_268&&_268.target&&_268.target.focus();},10);},true);_265.addEventListener("focus",function(_269){window.setTimeout(function(){_269&&_269.target&&_269.target.focus();},10);},true);}var _26a=document.getElementById("dijit__editor_plugins__FontNameDropDown_0_select");if(!_26a){_26a=document.getElementById("dijit__editor_plugins__FontNameDropDown_1_select");}if(_26a){var _266=_26a.closest("span[widgetid]").parentElement.querySelectorAll("[data-dojo-attach-event]:not(.dijitOffScreen)");var _267=_266[_266.length-1];_267.addEventListener("focus",function(_26b){window.setTimeout(function(){_26b&&_26b.target&&_26b.target.focus();},10);},true);_265.addEventListener("focus",function(_26c){window.setTimeout(function(){_26c&&_26c.target&&_26c.target.focus();},10);},true);}if(SCREENREADER){this.iframe.title=this.value.length>0?this.value:TEXT_ENTRY;var _26d=this.domNode.querySelectorAll("*[role='toolbar']")[0];if(_26d){_26d.setAttribute("aria-label","Text Editor");_26d.setAttribute("tabIndex","-1");}}if(saveButton){this.saveButtonElement=getElement(saveButton);}if(has("ie")||has("trident")){var _26e=this._findPlugin("fontSize");if(_26e){var _26f=this;_26e.connect(_26e.button.select,"onChange",function(_270){_26f.fixFontName=true;});}this.iframe.onblur=function(){if(!document.hasFocus()){document.body.setActive();}};var _271=this;this.iframe.onfocus=function(){if(dojo.isIE<10&&_271.okToFocus(_271.id)){_271.editNode.setActive();}};var _272=this._findPlugin("fontName");if(_272){var _273=this.iframe.onfocus;this.iframe.onfocus=function(){if(_273){_273();}if(_271.fixFontName){_271.fixFontName=false;var _274=_272.button.attr("value");if(_271.queryCommandValue("fontName")!=_274&&_274!=""){_271._fontnameImpl(_274);}}};}}},onKeyUp:function(e){this.inherited(arguments);resetLogoutTimer(false);if(isHotkey(e)){var _275=this.getValue(true);if(_275!==this.value){this.onChange(_275);}this._set("value",_275);appHotkey(e);}showFieldHelpById(e,this.id);},_findPlugin:function(_276){var _277=null;for(var i=this._plugins.length-1;i>=0&&_277==null;i--){if(this._plugins[i]){if(this._plugins[i].command==_276){_277=this._plugins[i];}}}return _277;},onNormalizedDisplayChanged:function(_278){this.inherited(arguments);if(this.saveButtonElement){var _279=this.saveButtonElement.getAttribute("disabled");var _27a=(typeof _279=="boolean"&&_279)||_279=="true";if(_27a&&(this.savedContent&&this.getValue(true)!=this.savedContent)){setButtonEnabled(saveButton,true);}}},_fontnameImpl:function(_27b){if(_27b&&_27b.length>=2&&_27b.charAt(0)=="'"&&_27b.charAt(_27b.length-1)=="'"){_27b=_27b.substring(1,_27b.length-1);}return this.inherited(arguments);},_insertorderedlistImpl:function(_27c){this._fixlisttoggle("insertorderedlist",_27c);return this.inherited(arguments);},_insertunorderedlistImpl:function(_27d){this._fixlisttoggle("insertunorderedlist",_27d);return this.inherited(arguments);},_fixlisttoggle:function(_27e,_27f){if(has("ie")||has("trident")){var _280=dijit.range.getSelection(this.window).getRangeAt(0);var _281=dijit.range.getBlockAncestor(_280.endContainer,null,this.editNode).blockNode;if(_281!=null){var _282=(((_281.parentNode.nodeName=="UL"||_281.parentNode.parentNode.nodeName=="UL")&&_27e=="insertorderedlist")||((_281.parentNode.nodeName=="OL"||_281.parentNode.parentNode.nodeName=="OL")&&_27e=="insertunorderedlist"));if(_282){var _283=_281.parentNode;if(_281.parentNode.nodeName!="UL"&&_281.parentNode.nodeName!="OL"){_283=_281.parentNode.parentNode;}if(_283.parentNode.nodeName!="UL"&&_283.parentNode.nodeName!="OL"){this.document.execCommand("outdent",false);}}}}},queryCommandValue:function(_284){var newR=this.inherited(arguments);_284=this._normalizeCommand(_284);if(_284=="fontsize"&&window.defaultRTEFontSize!=""&&newR==""){return window.defaultRTEFontSize;}if(newR==""){newR=document.queryCommandValue(_284);}if(_284=="fontname"&&newR=="MaximoBase"){newR="serif";}return newR;},_onIEMouseDown:function(e){var _285;var b=this.document.body;var _286=b.clientWidth;var _287=b.clientHeight;var _288=b.clientLeft;var _289=b.offsetWidth;var _28a=b.offsetHeight;var _28b=b.offsetLeft;if(!/^rtl$/i.test(b.dir||"")){if(_286<_289&&e.x>_286&&e.x<_289){_285=true;}}else{if(e.x<_288&&e.x>_28b){_285=true;}}if(!_285){if(_287<_28a&&e.y>_287&&e.y<_28a){_285=true;}}if(!_285){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},_setStateClass:function(){var rte=this;rte.inherited(arguments);window.setTimeout(function(){try{if(rte.document&&rte.document.body){_260.set(rte.document.body,"color",_260.get(rte.iframe,"color"));}}catch(e){}},300);}});});},"dijit/form/_FormWidgetMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_28c,_28d,_28e,_28f,lang,_290,on,has,_291,a11y){return _28d("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_292){this._set("disabled",_292);if(/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)){_28e.set(this.focusNode,"disabled",_292);if(has("trident")&&"readOnly" in this){_28e.set(this.focusNode,"readonly",_292||this.readOnly);}}else{this.focusNode.setAttribute("aria-disabled",_292?"true":"false");}if(this.valueNode){_28e.set(this.valueNode,"disabled",_292);}if(_292){this._set("hovering",false);this._set("active",false);var _293="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_28c.forEach(lang.isArray(_293)?_293:[_293],function(_294){var node=this[_294];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _295=this.own(on(this.focusNode,"focus",function(){_296.remove();_295.remove();}))[0];var _297=has("pointer-events")?"pointerup":has("MSPointer")?"MSPointerUp":has("touch-events")?"touchend, mouseup":"mouseup";var _296=this.own(on(this.ownerDocumentBody,_297,lang.hitch(this,function(evt){_296.remove();_295.remove();if(this.focused){if(evt.type=="touchend"){this.defer("focus");}else{this.focus();}}})))[0];}if(this.scrollOnFocus){this.defer(function(){_291.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_28f.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_298,_299){if(this._lastValueReported==undefined&&(_299===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_298;}this._pendingOnChange=this._pendingOnChange||(typeof _298!=typeof this._lastValueReported)||(this.compare(_298,this._lastValueReported)!=0);if((this.intermediateChanges||_299||_299===undefined)&&this._pendingOnChange){this._lastValueReported=_298;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_298);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/_KeyNavContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(_29a,_29b,_29c,_29d,keys,lang,_29e,_29f,_2a0,_2a1){return _29b("dijit._KeyNavContainer",[_2a0,_2a1,_29f],{connectKeyNavHandlers:function(_2a2,_2a3){var _2a4=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_29a.forEach(_2a2,function(code){_2a4[code]=prev;});_29a.forEach(_2a3,function(code){_2a4[code]=next;});_2a4[keys.HOME]=lang.hitch(this,"focusFirstChild");_2a4[keys.END]=lang.hitch(this,"focusLastChild");},startupKeyNavChildren:function(){_29d.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_29a.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_2a5,_2a6){this.inherited(arguments);this._startupChild(_2a5);},_startupChild:function(_2a7){_2a7.set("tabIndex","-1");},_getFirst:function(){var _2a8=this.getChildren();return _2a8.length?_2a8[0]:null;},_getLast:function(){var _2a9=this.getChildren();return _2a9.length?_2a9[_2a9.length-1]:null;},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},childSelector:function(node){var node=_29e.byNode(node);return node&&node.getParent()==this;}});});},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_2aa,_2ab){var _2ac={};lang.setObject("dojo.colors",_2ac);var _2ad=function(m1,m2,h){if(h<0){++h;}if(h>1){--h;}var h6=6*h;if(h6<1){return m1+(m2-m1)*h6;}if(2*h<1){return m2;}if(3*h<2){return m1+(m2-m1)*(2/3-h)*6;}return m1;};dojo.colorFromRgb=_2aa.fromRgb=function(_2ae,obj){var m=_2ae.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(m){var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){var r=c[0];if(r.charAt(r.length-1)=="%"){a=_2ab.map(c,function(x){return parseFloat(x)*2.56;});if(l==4){a[3]=c[3];}return _2aa.fromArray(a,obj);}return _2aa.fromArray(c,obj);}if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;a=[_2ad(m1,m2,H+1/3)*256,_2ad(m1,m2,H)*256,_2ad(m1,m2,H-1/3)*256,1];if(l==4){a[3]=c[3];}return _2aa.fromArray(a,obj);}}return null;};var _2af=function(c,low,high){c=Number(c);return isNaN(c)?high:c<low?low:c>high?high:c;};_2aa.prototype.sanitize=function(){var t=this;t.r=Math.round(_2af(t.r,0,255));t.g=Math.round(_2af(t.g,0,255));t.b=Math.round(_2af(t.b,0,255));t.a=_2af(t.a,0,1);return this;};_2ac.makeGrey=_2aa.makeGrey=function(g,a){return _2aa.fromArray([g,g,g,a]);};lang.mixin(_2aa.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});return _2aa;});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_2b0,_2b1,_2b2,has,_2b3,lang,_2b4,_2b5,_2b6,_2b7){if(has("dijit-legacy-requires")){_2b4(0,function(){var _2b8=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_2b0(_2b8);});}var _2b9=_2b1("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_2b5,_2b6],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_2b7,_setValueAttr:"valueNode",_setNameAttr:function(name){if(this.valueNode){this.valueNode.setAttribute("name",name);}},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer();},_setLabelFromContainer:function(){if(this.containerNode&&!this.label){this.label=lang.trim(this.containerNode.innerHTML);this.onLabelSet();}},_setShowLabelAttr:function(val){if(this.containerNode){_2b2.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_2ba){_2b3.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_2ba);},onLabelSet:function(){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});if(has("dojo-bidi")){_2b9=_2b1("dijit.form.Button",_2b9,{onLabelSet:function(){this.inherited(arguments);if(this.titleNode.title){this.applyTextDir(this.titleNode,this.titleNode.title);}},_setTextDirAttr:function(_2bb){if(this._created&&this.textDir!=_2bb){this._set("textDir",_2bb);this._setLabelAttr(this.label);}}});}return _2b9;});},"ibm/tivoli/mbs/dijit/editor/plugins/SpellCheck":function(){define(["dijit","dojo","dojox","dojo/require!dijit/_editor/_Plugin"],function(_2bc,dojo,_2bd){dojo.provide("ibm.tivoli.mbs.dijit.editor.plugins.SpellCheck");dojo.require("dijit._editor._Plugin");dojo.declare("ibm.tivoli.mbs.dijit.editor.plugins.SpellCheck",_2bc._editor._Plugin,{useDefaultCommand:false,iconClassPrefix:"editorIcon",command:"spellCheck",setEditor:function(){this.inherited("setEditor",arguments);this.connect(this.button,"onClick",this._spellcheck);},getLabel:function(){return "Spell Check";},updateState:function(){this.button.set("disabled",this.editor.get("disabled"));},_spellcheck:function(){queueManager.hold();queueManager.currentfocus=this.editor.id;queueManager.queueEvent(new Event("setvalue",this.editor.id,this.editor.get("value"),"SYNC"),"text/xml","xml",processXHR);queueManager.queueEvent(new Event("spellcheck",this.editor.id,"","SYNC"),"text/xml","xml",processXHR);queueManager.release();}});dojo.subscribe(_2bc._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "spellCheck":o.plugin=new ibm.tivoli.mbs.dijit.editor.plugins.SpellCheck({command:o.args.name});}});});},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_2be,has,_2bf,_2c0){return _2be("dijit.form._FormValueWidget",[_2bf,_2c0],{_layoutHackIE7:function(){if(has("ie")==7){var _2c1=this.domNode;var _2c2=_2c1.parentNode;var _2c3=_2c1.firstChild||_2c1;var _2c4=_2c3.style.filter;var _2c5=this;while(_2c2&&_2c2.clientHeight==0){(function ping(){var _2c6=_2c5.connect(_2c2,"onscroll",function(){_2c5.disconnect(_2c6);_2c3.style.filter=(new Date()).getMilliseconds();_2c5.defer(function(){_2c3.style.filter=_2c4;});});})();_2c2=_2c2.parentNode;}}}});});},"dojox/editor/plugins/ToolbarLineBreak":function(){define(["dojo","dijit","dojox","dijit/_Widget","dijit/_TemplatedMixin","dijit/_editor/_Plugin","dojo/_base/declare"],function(dojo,_2c7,_2c8,_2c9,_2ca,_2cb,_2cc){var _2cd=_2cc("dojox.editor.plugins.ToolbarLineBreak",[_2c9,_2ca],{templateString:"<span class='dijit dijitReset'><br></span>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});dojo.subscribe(_2c7._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="||"||name==="toolbarlinebreak"){o.plugin=new _2cb({button:new _2cd(),setEditor:function(_2ce){this.editor=_2ce;}});}});return _2cd;});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(_2cf,on,_2d0){return _2cf("dijit.form._ListBase",null,{selected:null,_listConnect:function(_2d1,_2d2){var self=this;return self.own(on(self.containerNode,on.selector(function(_2d3,_2d4,_2d5){return _2d3.parentNode==_2d5;},_2d1),function(evt){self[_2d2](evt,this);}));},selectFirstNode:function(){var _2d6=this.containerNode.firstChild;while(_2d6&&_2d6.style.display=="none"){_2d6=_2d6.nextSibling;}this._setSelectedAttr(_2d6,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _2d7=this.selected;if(!_2d7){this.selectFirstNode();}else{var next=_2d7.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _2d8=this.selected;if(!_2d8){this.selectLastNode();}else{var prev=_2d8.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_2d9){if(this.selected!=node){var _2da=this.selected;if(_2da){this.onDeselect(_2da);}if(node){if(_2d9){_2d0.scrollIntoView(node);}this.onSelect(node);}this._set("selected",node);}else{if(node){this.onSelect(node);}}}});});},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_2db,dom,_2dc,_2dd){return _2db("dijit.ToolbarSeparator",[_2dc,_2dd],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/TextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_2de,_2df,_2e0,_2e1,lang,on,has,_2e2,_2e3,_2e4,_2e5){var _2e6=_2de("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_2e2,_2e3],{templateString:_2e4,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_2e0.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _2e7=this.domNode.getElementsByTagName("INPUT");if(_2e7){for(var i=0;i<_2e7.length;i++){_2e7[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_2df.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this.own(on(this._phspan,"mousedown",function(evt){evt.preventDefault();}),on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){this.focus();})));}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_2e8,_2e9,_2ea){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_2e1.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_2eb){_2e1.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_2eb);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_2e6.prototype._isTextSelected=function(){var _2ec=this.ownerDocument.selection.createRange();var _2ed=_2ec.parentElement();return _2ed==this.textbox&&_2ec.text.length>0;};_2e5._setSelectionRange=_2e3._setSelectionRange=function(_2ee,_2ef,stop){if(_2ee.createTextRange){var r=_2ee.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_2ef);r.moveEnd("character",stop-_2ef);r.select();}};}if(has("dojo-bidi")){_2e6=_2de("dijit.form.TextBox",_2e6,{_setPlaceHolderAttr:function(v){this.inherited(arguments);this.applyTextDir(this._phspan);}});}return _2e6;});},"ibm/tivoli/mbs/dijit/editor/plugins/TpaeLinkDialog":function(){define(["dijit","dojo","dojox"],function(_2f0,dojo,_2f1){dojo.provide("ibm.tivoli.mbs.dijit.editor.plugins.TpaeLinkDialog");dojo.declare("ibm.tivoli.mbs.dijit.editor.plugins.TpaeLinkDialog",_2f0._editor.plugins.LinkDialog,{linkDialogTemplate:["<table><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' intermediateChanges='true'>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' intermediateChanges='true'>","</td></tr><tr style='display:none'><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' dojoType='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button dojoType='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button dojoType='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_loadDropDown:function(_2f2){this.inherited(arguments);var _2f3=this._urlInput.isValid;this._urlInput.isValid=dojo.hitch(this,function(){var _2f4=this._urlInput.get("value");return _2f4.charAt(0)==":"||_2f3();});},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.connect(this.editor.editNode,"onclick",this._launchURL);}));},_launchURL:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){var href=t.href?t.href:"";var _2f5=t.target?t.target:"";if(this.editor.disabled===false){if(!!navigator.userAgent.match(/Trident\/7\./)||/Firefox/.test(navigator.userAgent)){var link=document.createElement("a");link.target="_blank";link.href=href;link.rel="noopener";document.body.appendChild(link);link.click();link.parentNode.removeChild(link);}else{if(document.documentMode||/Edge/.test(navigator.userAgent)){var win=window.open(null,"_blank","noopener");win.opener=null;win.location=href;}else{window.open(href,"_blank","noopener");}}}}}},setValue:function(args){var url=args.urlInput;if(url&&url.length>1){url=dojo.trim(url);if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")!==0&&url.charAt(0)!==":"){if(this._hostRxp.test(url)){url="http://"+url;}}}}args.urlInput=url;this.inherited(arguments);}});dojo.subscribe(_2f0._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}switch(o.args.name){case "tpaeCreateLink":o.plugin=new ibm.tivoli.mbs.dijit.editor.plugins.TpaeLinkDialog({command:"createLink"});break;}});});},"ibm/tivoli/mbs/dijit/editor/plugins/TpaeViewSource":function(){define(["dijit","dojo","dojox"],function(_2f6,dojo,_2f7){dojo.provide("ibm.tivoli.mbs.dijit.editor.plugins.TpaeViewSource");dojo.declare("ibm.tivoli.mbs.dijit.editor.plugins.TpaeViewSource",_2f6._editor.plugins.ViewSource,{_filter:function(html){if(html){if(this.stripScripts){html=this._stripScripts(html);}if(this.stripComments){html=this._stripComments(html);}if(this.stripIFrames){html=this._stripIFrames(html);}}return html;},});dojo.subscribe(_2f6._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="tpaeviewsource"){o.plugin=new ibm.tivoli.mbs.dijit.editor.plugins.TpaeViewSource({command:o.args.name});}});});},"dijit/_editor/plugins/EnterKeyHandling":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range"],function(_2f8,_2f9,keys,lang,on,has,win,_2fa,_2fb,_2fc,_2fd){return _2f8("dijit._editor.plugins.EnterKeyHandling",_2fb,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}lang.mixin(this,args);}},setEditor:function(_2fe){if(this.editor===_2fe){return;}this.editor=_2fe;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_2fe.onLoadDeferred.then(lang.hitch(this,function(d){this.own(on(_2fe.document,"keydown",lang.hitch(this,function(e){if(e.keyCode==keys.ENTER){var ne=lang.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){e.stopPropagation();e.preventDefault();}}})));if(has("ie")>=9&&has("ie")<=10){this.own(on(_2fe.document,"paste",lang.hitch(this,function(e){setTimeout(lang.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);})));}return d;}));}else{if(this.blockNodeForEnter){var h=lang.hitch(this,"handleEnterKey");_2fe.addKeyHandler(13,0,0,h);_2fe.addKeyHandler(13,0,1,h);this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));}}},onKeyPressed:function(){if(this._checkListLater){if(this.editor.selection.isCollapsed()){var _2ff=this.editor.selection.getAncestorElement("LI");if(!_2ff){_2fc.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _300=this.editor.selection.getAncestorElement(this.blockNodeForEnter);if(_300){_300.innerHTML=this.bogusHtmlContent;if(has("ie")<=9){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_2ff.parentNode.parentNode.nodeName=="LI"){_2ff=_2ff.parentNode.parentNode;}}var fc=_2ff.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_2ff.insertBefore(fc.ownerDocument.createTextNode(""),fc);var _301=_2fd.create(this.editor.window);_301.setStart(_2ff.firstChild,0);var _302=_2fd.getSelection(this.editor.window,true);_302.removeAllRanges();_302.addRange(_301);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _303,_304,_305,_306,_307,_308,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _309=this.editor.selection.getParentElement();var _30a=_2fd.getAncestor(_309,this.blockNodes);if(_30a){if(_30a.tagName=="LI"){return true;}_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);if(!_304.collapsed){_304.deleteContents();_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);}if(_2fd.atBeginningOfContainer(_30a,_304.startContainer,_304.startOffset)){br=doc.createElement("br");_305=_2fd.create(this.editor.window);_30a.insertBefore(br,_30a.firstChild);_305.setStartAfter(br);_303.removeAllRanges();_303.addRange(_305);}else{if(_2fd.atEndOfContainer(_30a,_304.startContainer,_304.startOffset)){_305=_2fd.create(this.editor.window);br=doc.createElement("br");_30a.appendChild(br);_30a.appendChild(doc.createTextNode(""));_305.setStart(_30a.lastChild,0);_303.removeAllRanges();_303.addRange(_305);}else{rs=_304.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;_306=doc.createTextNode(txt.substring(0,_304.startOffset));_307=doc.createTextNode(txt.substring(_304.startOffset));_308=doc.createElement("br");if(_307.nodeValue==""&&has("webkit")){_307=doc.createTextNode("");}_2f9.place(_306,rs,"after");_2f9.place(_308,_306,"after");_2f9.place(_307,_308,"after");_2f9.destroy(rs);_305=_2fd.create(this.editor.window);_305.setStart(_307,0);_303.removeAllRanges();_303.addRange(_305);return false;}return true;}}}else{_303=_2fd.getSelection(this.editor.window);if(_303.rangeCount){_304=_303.getRangeAt(0);if(_304&&_304.startContainer){if(!_304.collapsed){_304.deleteContents();_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);}rs=_304.startContainer;if(rs&&rs.nodeType==3){var _30b=_304.startOffset;if(rs.length<_30b){ret=this._adjustNodeAndOffset(rs,_30b);rs=ret.node;_30b=ret.offset;}txt=rs.nodeValue;_306=doc.createTextNode(txt.substring(0,_30b));_307=doc.createTextNode(txt.substring(_30b));_308=doc.createElement("br");if(!_307.length){_307=doc.createTextNode("");}if(_306.length){_2f9.place(_306,rs,"after");}else{_306=rs;}_2f9.place(_308,_306,"after");_2f9.place(_307,_308,"after");_2f9.destroy(rs);_305=_2fd.create(this.editor.window);_305.setStart(_307,0);_305.setEnd(_307,_307.length);_303.removeAllRanges();_303.addRange(_305);this.editor.selection.collapse(true);}else{var _30c;if(_304.startOffset>=0){_30c=rs.childNodes[_304.startOffset];}var _308=doc.createElement("br");var _307=doc.createTextNode("");if(!_30c){rs.appendChild(_308);rs.appendChild(_307);}else{_2f9.place(_308,_30c,"before");_2f9.place(_307,_308,"after");}_305=_2fd.create(this.editor.window);_305.setStart(_307,0);_305.setEnd(_307,_307.length);_303.removeAllRanges();_303.addRange(_305);this.editor.selection.collapse(true);}}}else{_2fc.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _30d=true;_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);if(!_304.collapsed){_304.deleteContents();_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);}var _30e=_2fd.getBlockAncestor(_304.endContainer,null,this.editor.editNode);var _30f=_30e.blockNode;if((this._checkListLater=(_30f&&(_30f.nodeName=="LI"||_30f.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_30f;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_30f.innerHTML)){_30f.innerHTML="";if(has("webkit")){_305=_2fd.create(this.editor.window);_305.setStart(_30f,0);_303.removeAllRanges();_303.addRange(_305);}this._checkListLater=false;}return true;}if(!_30e.blockNode||_30e.blockNode===this.editor.editNode){try{_2fc.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_30e={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};if(_30e.blockNode){if(_30e.blockNode!=this.editor.editNode&&(!(_30e.blockNode.textContent||_30e.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_30e.blockNode);return false;}}else{_30e.blockNode=this.editor.editNode;}_303=_2fd.getSelection(this.editor.window);_304=_303.getRangeAt(0);}var _310=doc.createElement(this.blockNodeForEnter);_310.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_30e.blockNode);var _311=_304.endOffset;var node=_304.endContainer;if(node.length<_311){var ret=this._adjustNodeAndOffset(node,_311);node=ret.node;_311=ret.offset;}if(_2fd.atEndOfContainer(_30e.blockNode,node,_311)){if(_30e.blockNode===_30e.blockContainer){_30e.blockNode.appendChild(_310);}else{_2f9.place(_310,_30e.blockNode,"after");}_30d=false;_305=_2fd.create(this.editor.window);_305.setStart(_310,0);_303.removeAllRanges();_303.addRange(_305);if(this.editor.height){_2fa.scrollIntoView(_310);}}else{if(_2fd.atBeginningOfContainer(_30e.blockNode,_304.startContainer,_304.startOffset)){_2f9.place(_310,_30e.blockNode,_30e.blockNode===_30e.blockContainer?"first":"before");if(_310.nextSibling&&this.editor.height){_305=_2fd.create(this.editor.window);_305.setStart(_310.nextSibling,0);_303.removeAllRanges();_303.addRange(_305);_2fa.scrollIntoView(_310.nextSibling);}_30d=false;}else{if(_30e.blockNode===_30e.blockContainer){_30e.blockNode.appendChild(_310);}else{_2f9.place(_310,_30e.blockNode,"after");}_30d=false;if(_30e.blockNode.style){if(_310.style){if(_30e.blockNode.style.cssText){_310.style.cssText=_30e.blockNode.style.cssText;}}}rs=_304.startContainer;var _312;if(rs&&rs.nodeType==3){var _313,_314;_311=_304.endOffset;if(rs.length<_311){ret=this._adjustNodeAndOffset(rs,_311);rs=ret.node;_311=ret.offset;}txt=rs.nodeValue;_306=doc.createTextNode(txt.substring(0,_311));_307=doc.createTextNode(txt.substring(_311,txt.length));_2f9.place(_306,rs,"before");_2f9.place(_307,rs,"after");_2f9.destroy(rs);var _315=_306.parentNode;while(_315!==_30e.blockNode){var tg=_315.tagName;var _316=doc.createElement(tg);if(_315.style){if(_316.style){if(_315.style.cssText){_316.style.cssText=_315.style.cssText;}}}if(_315.tagName==="FONT"){if(_315.color){_316.color=_315.color;}if(_315.face){_316.face=_315.face;}if(_315.size){_316.size=_315.size;}}_313=_307;while(_313){_314=_313.nextSibling;_316.appendChild(_313);_313=_314;}_2f9.place(_316,_315,"after");_306=_315;_307=_316;_315=_315.parentNode;}_313=_307;if(_313.nodeType==1||(_313.nodeType==3&&_313.nodeValue)){_310.innerHTML="";}_312=_313;while(_313){_314=_313.nextSibling;_310.appendChild(_313);_313=_314;}}_305=_2fd.create(this.editor.window);var _317;var _318=_312;if(this.blockNodeForEnter!=="BR"){while(_318){_317=_318;_314=_318.firstChild;_318=_314;}if(_317&&_317.parentNode){_310=_317.parentNode;_305.setStart(_310,0);_303.removeAllRanges();_303.addRange(_305);if(this.editor.height){_2fa.scrollIntoView(_310);}if(has("mozilla")){this._pressedEnterInBlock=_30e.blockNode;}}else{_30d=true;}}else{_305.setStart(_310,0);_303.removeAllRanges();_303.addRange(_305);if(this.editor.height){_2fa.scrollIntoView(_310);}if(has("mozilla")){this._pressedEnterInBlock=_30e.blockNode;}}}}return _30d;},_adjustNodeAndOffset:function(node,_319){while(node.length<_319&&node.nextSibling&&node.nextSibling.nodeType==3){_319=_319-node.length;node=node.nextSibling;}return {"node":node,"offset":_319};},removeTrailingBr:function(_31a){var para=/P|DIV|LI/i.test(_31a.tagName)?_31a:this.editor.selection.getParentOfType(_31a,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){_2f9.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});});},"dijit/form/_FormWidget":function(){define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_31b,has,_31c,_31d,_31e,_31f,_320,_321){if(has("dijit-legacy-requires")){_31d(0,function(){var _322=["dijit/form/_FormValueWidget"];require(_322);});}return _31b("dijit.form._FormWidget",[_31e,_320,_31f,_321],{setDisabled:function(_323){_31c.deprecated("setDisabled("+_323+") is deprecated. Use set('disabled',"+_323+") instead.","","2.0");this.set("disabled",_323);},setValue:function(_324){_31c.deprecated("dijit.form._FormWidget:setValue("+_324+") is deprecated.  Use set('value',"+_324+") instead.","","2.0");this.set("value",_324);},getValue:function(){_31c.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);}});});},"dijit/form/_SearchMixin":function(){define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_325,keys,lang,_326,_327,when,_328){return _325("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_329){return new RegExp("^"+_329.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_32a,star,_32b){return star?".*":_32b?".":_32a?_32a:"\\"+str;})+"$",this.ignoreCase?"mi":"m");},_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;this._prev_key_backspace=false;if(key===keys.DELETE||key===keys.BACKSPACE){this._prev_key_backspace=true;this._maskValidSubsetError=true;}if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _32c=this,_326=lang.clone(this.query),_32d={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_327.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_32e=function(){var _32f=_32c._fetchHandle=_32c.store.query(_326,_32d);if(_32c.disabled||_32c.readOnly||(q!==_32c._lastQuery)){return;}when(_32f,function(res){_32c._fetchHandle=null;if(!_32c.disabled&&!_32c.readOnly&&(q===_32c._lastQuery)){when(_32f.total,function(_330){res.total=_330;var _331=_32c.pageSize;if(isNaN(_331)||_331>res.total){_331=res.total;}res.nextPage=function(_332){_32d.direction=_332=_332!==false;_32d.count=_331;if(_332){_32d.start+=res.length;if(_32d.start>=res.total){_32d.count=0;}}else{_32d.start-=_331;if(_32d.start<0){_32d.count=Math.max(_331+_32d.start,0);_32d.start=0;}}if(_32d.count<=0){res.length=0;_32c.onSearch(res,_326,_32d);}else{_32e();}};_32c.onSearch(res,_326,_32d);});}},function(err){_32c._fetchHandle=null;if(!_32c._cancelingQuery){console.error(_32c.declaredClass+" "+err.toString());}});};lang.mixin(_32d,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_326[this.searchAttr]=q;this._queryDeferHandle=this.defer(_32e,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_328.byId(list);}}this.inherited(arguments);}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_333,_334,dom,_335,_336,_337,_338,has,keys,lang,on,_339,_33a,_33b,_33c,_33d){return _333("dijit._HasDropDown",_33d,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"){e.preventDefault();}this.own(on.once(this.ownerDocument,_339.release,lang.hitch(this,"_onDropDownMouseUp")));this.toggleDropDown();},_onDropDownMouseUp:function(e){var _33e=this.dropDown,_33f=false;if(e&&this._opened){var c=_337.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_33f){if(_336.contains(t,"dijitPopup")){_33f=true;}else{t=t.parentNode;}}if(_33f){t=e.target;if(_33e.onItemClick){var _340;while(t&&!(_340=_33a.byNode(t))){t=t.parentNode;}if(_340&&_340.onClick&&_340.getParent){_340.getParent().onItemClick(_340,e);}}return;}}}if(this._opened){if(_33e.focus&&(_33e.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_33e.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}},_onDropDownClick:function(e){if(this._stopClickEvents){e.stopPropagation();e.preventDefault();}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _341={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_336.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_341+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _342=this.focusNode||this.domNode;this.own(on(this._buttonNode,_339.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_342,"keydown",lang.hitch(this,"_onKey")),on(_342,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_343=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){e.stopPropagation();e.preventDefault();return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();e.stopPropagation();e.preventDefault();}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_343.tagName||"").toLowerCase()!=="input"||(_343.type&&_343.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;e.stopPropagation();e.preventDefault();}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_344){_344();},loadAndOpenDropDown:function(){var d=new _334(),_345=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_345);}else{_345();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown(true);}},openDropDown:function(){var _346=this.dropDown,_347=_346.domNode,_348=this._aroundNode||this.domNode,self=this;var _349=_33c.open({parent:this,popup:_346,around:_348,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_335.set(self._popupStateNode,"popupActive",false);_336.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});if(this.forceWidth||(this.autoWidth&&_348.offsetWidth>_346._popupWrapper.offsetWidth)){var _34a=_348.offsetWidth-_346._popupWrapper.offsetWidth;var _34b={w:_346.domNode.offsetWidth+_34a};this._origStyle=_347.style.cssText;if(lang.isFunction(_346.resize)){_346.resize(_34b);}else{_337.setMarginBox(_347,_34b);}if(_349.corner[1]=="R"){_346._popupWrapper.style.left=(_346._popupWrapper.style.left.replace("px","")-_34a)+"px";}}_335.set(this._popupStateNode,"popupActive","true");_336.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_346.id);if(_347.getAttribute("role")!=="presentation"&&!_347.getAttribute("aria-labelledby")){_347.setAttribute("aria-labelledby",this.id);}return _349;},closeDropDown:function(_34c){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_34c&&this.focus){this.focus();}_33c.close(this.dropDown);this._opened=false;}if(this._origStyle){this.dropDown.domNode.style.cssText=this._origStyle;delete this._origStyle;}}});});},"dojox/editor/plugins/PasteFromWord":function(){define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/RichText","dijit/form/Button","dijit/Dialog","dojox/html/format","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/PasteFromWord","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/_editor/nls/commands"],function(dojo,_34d,_34e,_34f){var _350=dojo.declare("dojox.editor.plugins.PasteFromWord",_34f,{iconClassPrefix:"dijitAdditionalEditorIcon",width:"400px",height:"300px",_template:["<div class='dijitPasteFromWordEmbeddedRTE'>","<div style='width: ${width}; padding-top: 5px; padding-bottom: 5px;'>${instructions}</div>","<div id='${uId}_rte' style='width: ${width}; height: ${height}'></div>","<table style='width: ${width}' tabindex='-1'>","<tbody>","<tr>","<td align='center'>","<button type='button' dojoType='dijit.form.Button' id='${uId}_paste'>${paste}</button>","&nbsp;","<button type='button' dojoType='dijit.form.Button' id='${uId}_cancel'>${buttonCancel}</button>","</td>","</tr>","</tbody>","</table>","</div>"].join(""),_filters:[{regexp:/(<meta\s*[^>]*\s*>)|(<\s*link\s* href="file:[^>]*\s*>)|(<\/?\s*\w+:[^>]*\s*>)/gi,handler:""},{regexp:/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,handler:""},{regexp:/(class="Mso[^"]*")|(<!--(.|\s){1,}?-->)/gi,handler:""},{regexp:/(<p[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/p[^>]*>)|(<p[^>]*>\s*<font[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/\s*font\s*>\s<\/p[^>]*>)/ig,handler:""},{regexp:/(style="[^"]*mso-[^;][^"]*")|(style="margin:\s*[^;"]*;")/gi,handler:""},{regexp:/(<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>)|(<\s*script\b([^<>]|\s)*>?)|(<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>)/ig,handler:""},{regexp:/<(\/?)o\:p[^>]*>/gi,handler:""}],_initButton:function(){this._filters=this._filters.slice(0);var _351=dojo.i18n.getLocalization("dojox.editor.plugins","PasteFromWord");dojo.mixin(_351,dojo.i18n.getLocalization("dijit","common"));dojo.mixin(_351,dojo.i18n.getLocalization("dijit._editor","commands"));this.button=new _34d.form.Button({label:_351["pasteFromWord"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PasteFromWord",tabIndex:"-1",onClick:dojo.hitch(this,"_openDialog")});this._uId=_34d.getUniqueId(this.editor.id);_351.uId=this._uId;_351.width=this.width||"400px";_351.height=this.height||"300px";this._dialog=new _34d.Dialog({title:_351["pasteFromWord"]}).placeAt(dojo.body());this._dialog.set("content",dojo.string.substitute(this._template,_351));dojo.style(dojo.byId(this._uId+"_rte"),"opacity",0.001);this.connect(_34d.byId(this._uId+"_paste"),"onClick","_paste");this.connect(_34d.byId(this._uId+"_cancel"),"onClick","_cancel");this.connect(this._dialog,"onHide","_clearDialog");},updateState:function(){this.button.set("disabled",this.get("disabled"));},setEditor:function(_352){this.editor=_352;this._initButton();},_openDialog:function(){this._dialog.show();if(!this._rte){setTimeout(dojo.hitch(this,function(){this._rte=new _34d._editor.RichText({height:this.height||"300px"},this._uId+"_rte");this._rte.startup();this._rte.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.animateProperty({node:this._rte.domNode,properties:{opacity:{start:0.001,end:1}}}).play();}));}),100);}},_paste:function(){var _353=_34e.html.format.prettyPrint(this._rte.get("value"));this._dialog.hide();var i;for(i=0;i<this._filters.length;i++){var _354=this._filters[i];_353=_353.replace(_354.regexp,_354.handler);}_353=_34e.html.format.prettyPrint(_353);this.editor.focus();this.editor.execCommand("inserthtml",_353);},_cancel:function(){this._dialog.hide();},_clearDialog:function(){this._rte.set("value","");},destroy:function(){if(this._rte){this._rte.destroy();}if(this._dialog){this._dialog.destroyRecursive();}delete this._dialog;delete this._rte;this.inherited(arguments);}});dojo.subscribe(_34d._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="pastefromword"){o.plugin=new _350({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});}});return _350;});},"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_355,dom,lang,_356,_357,_358){function _359(_35a){return {id:_35a.value,value:_35a.value,name:lang.trim(_35a.innerText||_35a.textContent||"")};};return _355("dijit.form.DataList",_357,{constructor:function(_35b,_35c){this.domNode=dom.byId(_35c);lang.mixin(this,_35b);if(this.id){_358.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_356("option",this.domNode).map(_359)}]);},destroy:function(){_358.remove(this.id);},fetchSelectedItem:function(){var _35d=_356("> option[selected]",this.domNode)[0]||_356("> option",this.domNode)[0];return _35d&&_359(_35d);}});});},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_35e,on,_35f,_360){return _35e("dijit.form._ListMouseMixin",_360,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=true;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_361){this._setSelectedAttr(_361,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_361);});},_onMouseDown:function(evt,_362){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_362,false);},_onMouseUp:function(evt,_363){this._isDragging=false;var _364=this.selected;var _365=this._hoveredNode;if(_364&&_363==_364){this.defer(function(){this._onClick(evt,_364);});}else{if(_365){this.defer(function(){this._onClick(evt,_365);});}}},_onMouseOut:function(evt,_366){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_367){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_367;this.onHover(_367);if(this._isDragging){this._setSelectedAttr(_367,false);}}});});},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_368,lang,when,_369,_36a){return _368("dijit.form.FilteringSelect",[_369,_36a],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_36b,_36c,_36d,_36e){if((_36c&&_36c[this.searchAttr]!==this._lastQuery)||(!_36c&&_36b.length&&this.store.getIdentity(_36b[0])!=this._lastQuery)){return;}if(!_36b.length){this.set("value","",_36e||(_36e===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_36b[0],_36e);}},_openResultList:function(_36f,_370,_371){if(_370[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_372,_373,_374,item){if(!this._onChangeActive){_373=null;}if(item===undefined){if(_372===null||_372===""){_372="";if(!lang.isString(_374)){this._setDisplayedValueAttr(_374||"",_373);return;}}var self=this;this._lastQuery=_372;when(this.store.get(_372),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_373);});}else{this.valueNode.value=_372;this.inherited(arguments,[_372,_373,_374,item]);}},_setItemAttr:function(item,_375,_376){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_377,_378){if(_377==null){_377="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_378=false;}if(this.store){this.closeDropDown();var _379=lang.clone(this.query);var qs=this._getDisplayQueryString(_377),q;if(this.store._oldAPI){q=qs;}else{q=this._patternToRegExp(qs);q.toString=function(){return qs;};}this._lastQuery=_379[this.searchAttr]=q;this.textbox.value=_377;this._lastDisplayedValue=_377;this._set("displayedValue",_377);var _37a=this;var _37b={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_37b,this.fetchProperties);this._fetchHandle=this.store.query(_379,_37b);when(this._fetchHandle,function(_37c){_37a._fetchHandle=null;_37a._callbackSetLabel(_37c||[],_379,_37b,_378);},function(err){_37a._fetchHandle=null;if(!_37a._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dijit/layout/_LayoutWidget":function(){define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_37d,_37e,_37f,_380,_381,_382,_383,_384){return _381("dijit.layout._LayoutWidget",[_37d,_37e,_37f],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);_382.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _385=this.getParent&&this.getParent();if(!(_385&&_385.isLayoutContainer)){this.resize();this.own(_380.on("resize",lang.hitch(this,"resize")));}},resize:function(_386,_387){var node=this.domNode;if(_386){_383.setMarginBox(node,_386);}var mb=_387||{};lang.mixin(mb,_386||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_383.getMarginBox(node),mb);}var cs=_384.getComputedStyle(node);var me=_383.getMarginExtents(node,cs);var be=_383.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_383.getPadExtents(node,cs);this._contentBox={l:_384.toPixelValue(node,cs.paddingLeft),t:_384.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_388){var cls=this.baseClass+"-child "+(_388.baseClass?this.baseClass+"-"+_388.baseClass:"");_382.add(_388.domNode,cls);},addChild:function(_389,_38a){this.inherited(arguments);if(this._started){this._setupChild(_389);}},removeChild:function(_38b){var cls=this.baseClass+"-child"+(_38b.baseClass?" "+this.baseClass+"-"+_38b.baseClass:"");_382.remove(_38b.domNode,cls);this.inherited(arguments);}});});},"dijit/_editor/plugins/FontChoice":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/string","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(_38c,_38d,_38e,_38f,i18n,lang,_390,_391,_392,_393,_394,_395,_396,_397,_398){var _399=_38e("dijit._editor.plugins._FontDropDown",[_393,_394,_395],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='../../form/FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"class='${comboClass}' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",contextRequire:_38c,postMixInProperties:function(){this.inherited(arguments);this.strings=i18n.getLocalization("dijit._editor","FontChoice");this.label=this.strings[this.command];this.id=_392.getUniqueId(this.declaredClass.replace(/\./g,"_"));this.selectId=this.id+"_select";this.inherited(arguments);},postCreate:function(){this.select.set("store",new _391({idProperty:"value",data:_38d.map(this.values,function(_39a){var name=this.strings[_39a]||_39a;return {label:this.getLabel(_39a,name),name:name,value:_39a};},this)}));this.select.set("value","",false);this.disabled=this.select.get("disabled");},_setValueAttr:function(_39b,_39c){_39c=_39c!==false;this.select.set("value",_38d.indexOf(this.values,_39b)<0?"":_39b,_39c);if(!_39c){this.select._lastValueReported=null;}},_getValueAttr:function(){return this.select.get("value");},focus:function(){this.select.focus();},_setDisabledAttr:function(_39d){this._set("disabled",_39d);this.select.set("disabled",_39d);}});var _39e=_38e("dijit._editor.plugins._FontNameDropDown",_399,{generic:false,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){if(!this.values){this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];}this.inherited(arguments);},getLabel:function(_39f,name){if(this.plainText){return name;}else{return "<div style='font-family: "+_39f+"'>"+name+"</div>";}},_normalizeFontName:function(_3a0){var _3a1=this.values;if(!_3a0||!_3a1){return _3a0;}var _3a2=_3a0.split(",");if(_3a2.length>1){for(var i=0,l=_3a2.length;i<l;i++){var _3a3=_390.trim(_3a2[i]);var pos=_38d.indexOf(_3a1,_3a3);if(pos>-1){return _3a3;}}}return _3a0;},_setValueAttr:function(_3a4,_3a5){_3a5=_3a5!==false;_3a4=this._normalizeFontName(_3a4);if(this.generic){var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};_3a4=map[_3a4]||_3a4;}this.inherited(arguments,[_3a4,_3a5]);}});var _3a6=_38e("dijit._editor.plugins._FontSizeDropDown",_399,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(_3a7,name){if(this.plainText){return name;}else{return "<font size="+_3a7+"'>"+name+"</font>";}},_setValueAttr:function(_3a8,_3a9){_3a9=_3a9!==false;if(_3a8.indexOf&&_3a8.indexOf("px")!=-1){var _3aa=parseInt(_3a8,10);_3a8={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_3aa]||_3a8;}this.inherited(arguments,[_3a8,_3a9]);}});var _3ab=_38e("dijit._editor.plugins._FormatBlockDropDown",_399,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){this.inherited(arguments);this.set("value","noFormat",false);},getLabel:function(_3ac,name){if(this.plainText||_3ac=="noFormat"){return name;}else{return "<"+_3ac+">"+name+"</"+_3ac+">";}},_execCommand:function(_3ad,_3ae,_3af){if(_3af==="noFormat"){var _3b0;var end;var sel=_398.getSelection(_3ad.window);if(sel&&sel.rangeCount>0){var _3b1=sel.getRangeAt(0);var node,tag;if(_3b1){_3b0=_3b1.startContainer;end=_3b1.endContainer;while(_3b0&&_3b0!==_3ad.editNode&&_3b0!==_3ad.document.body&&_3b0.nodeType!==1){_3b0=_3b0.parentNode;}while(end&&end!==_3ad.editNode&&end!==_3ad.document.body&&end.nodeType!==1){end=end.parentNode;}var _3b2=lang.hitch(this,function(node,ary){if(node.childNodes&&node.childNodes.length){var i;for(i=0;i<node.childNodes.length;i++){var c=node.childNodes[i];if(c.nodeType==1){if(_3ad.selection.inSelection(c)){var tag=c.tagName?c.tagName.toLowerCase():"";if(_38d.indexOf(this.values,tag)!==-1){ary.push(c);}_3b2(c,ary);}}}}});var _3b3=lang.hitch(this,function(_3b4){if(_3b4&&_3b4.length){_3ad.beginEditing();while(_3b4.length){this._removeFormat(_3ad,_3b4.pop());}_3ad.endEditing();}});var _3b5=[];if(_3b0==end){var _3b6;node=_3b0;while(node&&node!==_3ad.editNode&&node!==_3ad.document.body){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_38d.indexOf(this.values,tag)!==-1){_3b6=node;break;}}node=node.parentNode;}_3b2(_3b0,_3b5);if(_3b6){_3b5=[_3b6].concat(_3b5);}_3b3(_3b5);}else{node=_3b0;while(_3ad.selection.inSelection(node)){if(node.nodeType==1){tag=node.tagName?node.tagName.toLowerCase():"";if(_38d.indexOf(this.values,tag)!==-1){_3b5.push(node);}_3b2(node,_3b5);}node=node.nextSibling;}_3b3(_3b5);}_3ad.onDisplayChanged();}}}else{_3ad.execCommand(_3ae,_3af);}},_removeFormat:function(_3b7,node){if(_3b7.customUndo){while(node.firstChild){_38f.place(node.firstChild,node,"before");}node.parentNode.removeChild(node);}else{_3b7.selection.selectElementChildren(node);var html=_3b7.selection.getSelectedHtml();_3b7.selection.selectElement(node);_3b7.execCommand("inserthtml",html||"");}}});var _3b8=_38e("dijit._editor.plugins.FontChoice",_397,{useDefaultCommand:false,_initButton:function(){var _3b9={fontName:_39e,fontSize:_3a6,formatBlock:_3ab}[this.command],_3ba=this.params;if(this.params.custom){_3ba.values=this.params.custom;}var _3bb=this.editor;this.button=new _3b9(lang.delegate({dir:_3bb.dir,lang:_3bb.lang},_3ba));this.own(this.button.select.on("change",lang.hitch(this,function(_3bc){if(this.editor.focused){this.editor.focus();}if(this.command=="fontName"&&_3bc.indexOf(" ")!=-1){_3bc="'"+_3bc+"'";}if(this.button._execCommand){this.button._execCommand(this.editor,this.command,_3bc);}else{this.editor.execCommand(this.command,_3bc);}})));},updateState:function(){var _3bd=this.editor;var _3be=this.command;if(!_3bd||!_3bd.isLoaded||!_3be.length){return;}if(this.button){var _3bf=this.get("disabled");this.button.set("disabled",_3bf);if(_3bf){return;}var _3c0;try{_3c0=_3bd.queryCommandValue(_3be)||"";}catch(e){_3c0="";}var _3c1=lang.isString(_3c0)&&(_3c0.match(/'([^']*)'/)||_3c0.match(/"([^"]*)"/));if(_3c1){_3c0=_3c1[1];}if(_3be==="fontSize"&&!_3c0){_3c0=3;}if(_3be==="formatBlock"){if(!_3c0||_3c0=="p"){_3c0=null;var elem;var sel=_398.getSelection(this.editor.window);if(sel&&sel.rangeCount>0){var _3c2=sel.getRangeAt(0);if(_3c2){elem=_3c2.endContainer;}}while(elem&&elem!==_3bd.editNode&&elem!==_3bd.document){var tg=elem.tagName?elem.tagName.toLowerCase():"";if(tg&&_38d.indexOf(this.button.values,tg)>-1){_3c0=tg;break;}elem=elem.parentNode;}if(!_3c0){_3c0="noFormat";}}else{if(_38d.indexOf(this.button.values,_3c0)<0){_3c0="noFormat";}}}if(_3c0!==this.button.get("value")){this.button.set("value",_3c0,false);}}}});_38d.forEach(["fontName","fontSize","formatBlock"],function(name){_397.registry[name]=function(args){return new _3b8({command:name,plainText:args.plainText});};});_3b8._FontDropDown=_399;_3b8._FontNameDropDown=_39e;_3b8._FontSizeDropDown=_3a6;_3b8._FormatBlockDropDown=_3ab;return _3b8;});},"dijit/_editor/_Plugin":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_3c3,_3c4,lang,_3c5,_3c6){var _3c7=_3c4("dijit._editor._Plugin",_3c5,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_3c6,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _3c8=this.getLabel(this.command),_3c9=this.editor,_3ca=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _3cb=lang.mixin({label:_3c8,ownerDocument:_3c9.ownerDocument,dir:_3c9.dir,lang:_3c9.lang,showLabel:false,iconClass:_3ca,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});delete _3cb.name;this.button=new this.buttonClass(_3cb);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){if(this.dropDown){this.dropDown.destroyRecursive();}this.inherited(arguments);},connect:function(o,f,tf){this.own(_3c3.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_3cc,_3cd;if(!e||!e.isLoaded||!c.length){return;}var _3ce=this.get("disabled");if(this.button){try{var _3cf=e._implCommand(c);_3cd=!_3ce&&(this[_3cf]?this[_3cf](c):e.queryCommandEnabled(c));if(this.enabled!==_3cd){this.enabled=_3cd;this.button.set("disabled",!_3cd);}if(_3cd){if(typeof this.button.checked=="boolean"){_3cc=e.queryCommandState(c);if(this.checked!==_3cc){this.checked=_3cc;this.button.set("checked",e.queryCommandState(c));}}}}catch(e){}}},setEditor:function(_3d0){this.editor=_3d0;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));}else{this.button.domNode.style.display="none";}}this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));},setToolbar:function(_3d1){if(this.button){_3d1.addChild(this.button);}},set:function(name,_3d2){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _3d3=this._getAttrNames(name);if(this[_3d3.s]){var _3d4=this[_3d3.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_3d2);}return _3d4||this;},get:function(name){var _3d5=this._getAttrNames(name);return this[_3d5.g]?this[_3d5.g]():this[name];},_setDisabledAttr:function(_3d6){this._set("disabled",_3d6);this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_3d7){this[name]=_3d7;}});_3c7.registry={};return _3c7;});},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(_3d8,_3d9){return _3d8("dijit._Contained",null,{_getSibling:function(_3da){var p=this.getParent();return (p&&p._getSiblingOfChild&&p._getSiblingOfChild(this,_3da=="previous"?-1:1))||null;},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(_3db,lang,when){var _3dc=function(_3dd){if(!_3dd){return _3dd;}var _3de=!!_3dd.then;if(_3de){_3dd=lang.delegate(_3dd);}function _3df(_3e0){_3dd[_3e0]=function(){var args=arguments;var _3e1=when(_3dd,function(_3e2){Array.prototype.unshift.call(args,_3e2);return _3dc(_3db[_3e0].apply(_3db,args));});if(_3e0!=="forEach"||_3de){return _3e1;}};};_3df("forEach");_3df("filter");_3df("map");if(_3dd.total==null){_3dd.total=when(_3dd,function(_3e3){return _3e3.length;});}return _3dd;};lang.setObject("dojo.store.util.QueryResults",_3dc);return _3dc;});},"dijit/Editor":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_3e4,_3e5,_3e6,_3e7,i18n,_3e8,_3e9,_3ea,_3eb,keys,lang,has,_3ec,_3ed,_3ee,_3ef,_3f0,_3f1,_3f2,_3f3,_3f4,html,_3f5,_3f6,_3f7){var _3f8=_3e6("dijit.Editor",_3f6,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_3f4];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")||has("trident")||has("edge")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _3e7();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(has("webkit")){_3eb.set(this.domNode,"KhtmlUserSelect","none");}},startup:function(){this.inherited(arguments);if(!this.toolbar){this.toolbar=new _3ef({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});this.header.appendChild(this.toolbar.domNode);}_3e5.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.resolve(true);_3e9.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_3e9.add(this.iframe,"dijitEditorIFrame");_3e8.set(this.iframe,"allowTransparency",true);this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_3e5.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_3f9,_3fa){var args=lang.isString(_3f9)?{name:_3f9}:lang.isFunction(_3f9)?{ctor:_3f9}:_3f9;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_3f3.registry[args.name]){o.plugin=_3f3.registry[args.name](args);}else{_3ed.publish(_3f7._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){try{var pc=args.ctor||lang.getObject(args.name)||_3e4(args.name);if(pc){o.plugin=new pc(args);}}catch(e){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}}if(!o.plugin){throw new Error(this.id+": cannot find plugin ["+args.name+"]");}_3f9=o.plugin;}if(arguments.length>1){this._plugins[_3fa]=_3f9;}else{this._plugins.push(_3f9);}_3f9.setEditor(this);if(lang.isFunction(_3f9.setToolbar)){_3f9.setToolbar(this.toolbar);}},resize:function(size){if(size){_3f1.prototype.resize.apply(this,arguments);}},layout:function(){var _3fb=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_3ea.getPadBorderExtents(this.iframe.parentNode).h+_3ea.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_3fb+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _3fc;var b=this.document.body;var _3fd=b.clientWidth;var _3fe=b.clientHeight;var _3ff=b.clientLeft;var _400=b.offsetWidth;var _401=b.offsetHeight;var _402=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_3fd<_400&&e.x>_3fd&&e.x<_400){_3fc=true;}}else{if(e.x<_3ff&&e.x>_402){_3fc=true;}}if(!_3fc){if(_3fe<_401&&e.y>_3fe&&e.y<_401){_3fc=true;}}if(!_3fc){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){this._editTimer.remove();}this._editTimer=this.defer("endEditing",this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {};}}catch(e){var sub=_3ec.substitute,_403={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_403[cmd]])]));r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _404=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_405,_406,sel;if(mark){if(has("ie")<9||(has("ie")===9&&has("quirks"))){if(lang.isArray(mark)){_404=[];_3e5.forEach(mark,function(n){_404.push(_3f5.getNode(n,this.editNode));},this);this.selection.moveToBookmark({mark:_404,isCollapsed:col});}else{if(mark.startContainer&&mark.endContainer){sel=_3f5.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_3f5.create(this.window);_405=_3f5.getNode(mark.startContainer,this.editNode);_406=_3f5.getNode(mark.endContainer,this.editNode);if(_405&&_406){r.setStart(_405,mark.startOffset);r.setEnd(_406,mark.endOffset);sel.addRange(r);}}}}}else{sel=_3f5.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_3f5.create(this.window);_405=_3f5.getNode(mark.startContainer,this.editNode);_406=_3f5.getNode(mark.endContainer,this.editNode);if(_405&&_406){r.setStart(_405,mark.startOffset);r.setEnd(_406,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_407){if(this._editTimer){this._editTimer=this._editTimer.remove();}if(this._inEditing){this._endEditing(_407);this._inEditing=false;}},_getBookmark:function(){var b=this.selection.getBookmark();var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9||(has("ie")===9&&has("quirks"))){var sel=_3f5.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _408;if(sel.rangeCount){_408=sel.getRangeAt(0);}if(_408){b.mark=_408.cloneRange();}else{b.mark=this.selection.getBookmark();}}}else{_3e5.forEach(b.mark,function(n){tmp.push(_3f5.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_3f5.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_3f5.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.shiftKey&&!e.altKey){if(k==90||k==122){e.stopPropagation();e.preventDefault();this.undo();return;}else{if(k==89||k==121){e.stopPropagation();e.preventDefault();this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");}else{this.beginEditing("paste");}this.defer("endEditing",1);break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(this.selection.isCollapsed()){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_409){this.setValueDeferred.then(lang.hitch(this,function(){if((!this.disabled&&_409)||(!this._buttonEnabledPlugins&&_409)){_3e5.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_409){_3e5.forEach(this._plugins,function(p){p.set("disabled",false);});}}}));this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_3eb.set(this.document.body,"color",_3eb.get(this.iframe,"color"));_3eb.set(this.document.body,"background-color",_3eb.get(this.iframe,"background-color"));}}catch(e){}}});function _40a(args){return new _3f3({command:args.name});};function _40b(args){return new _3f3({buttonClass:_3f2,command:args.name});};lang.mixin(_3f3.registry,{"undo":_40a,"redo":_40a,"cut":_40a,"copy":_40a,"paste":_40a,"insertOrderedList":_40a,"insertUnorderedList":_40a,"indent":_40a,"outdent":_40a,"justifyCenter":_40a,"justifyFull":_40a,"justifyLeft":_40a,"justifyRight":_40a,"delete":_40a,"selectAll":_40a,"removeFormat":_40a,"unlink":_40a,"insertHorizontalRule":_40a,"bold":_40b,"italic":_40b,"underline":_40b,"strikethrough":_40b,"subscript":_40b,"superscript":_40b,"|":function(){return new _3f3({setEditor:function(_40c){this.editor=_40c;this.button=new _3f0({ownerDocument:_40c.ownerDocument});}});}});return _3f8;});},"ibm/tivoli/mbs/dijit/editor/plugins/TpaePasteFromWord":function(){define(["dijit","dojo","dojox","dojo/require!dojox/editor/plugins/PasteFromWord"],function(_40d,dojo,_40e){dojo.provide("ibm.tivoli.mbs.dijit.editor.plugins.TpaePasteFromWord");dojo.require("dojox.editor.plugins.PasteFromWord");_40d._editor.plugins.EnterKeyHandling.prototype.regularPsToSingleLinePs=function(html){return html;};dojo.declare("ibm.tivoli.mbs.dijit.editor.plugins.TpaePasteFromWord",_40e.editor.plugins.PasteFromWord,{constructor:function(){this._filters.push({regexp:/<(\/?)o\:p[^>]*>/gi,handler:""});this._filters.push({regexp:/(<p[^>]*>)/ig,handler:"<br />"});this._filters.push({regexp:/(<\/p[^>]*>)/ig,handler:""});this._filters.push({regexp:/(<[\/]?(shape|imagedata|stroke|formulas|f|lock)[^>]*?>)/ig,handler:""});this._filters.push({regexp:/(<a\s+href[^>]*>.*?)<font[^>]*>(.*?)<\/font[^>]*>(.*?<\/a[^>]*>)/ig,handler:"$1$2$3"});this._filters.push({regexp:/(<a\s+href[^>]*>.*?)<span[^>]*>(.*?)<\/span[^>]*>(.*?<\/a[^>]*>)/ig,handler:"$1$2$3"});},_openDialog:function(){if(this._rte&&this._rte.iframe&&this._rte.iframe.onfocus_saved){this._rte.iframe.onfocus=this._rte.iframe.onfocus_saved;}this.inherited(arguments);},_paste:function(){this._rte.iframe.onfocus_saved=this._rte.iframe.onfocus;this._rte.iframe.onfocus=null;this.inherited(arguments);},_cancel:function(){this._rte.iframe.onfocus_saved=this._rte.iframe.onfocus;this._rte.iframe.onfocus=null;this.inherited(arguments);}});dojo.subscribe(_40d._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var name=o.args.name.toLowerCase();if(name==="tpaepastefromword"){o.plugin=new ibm.tivoli.mbs.dijit.editor.plugins.TpaePasteFromWord({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});}});});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_40f,_410,has,keys,_411,_412,_413,_414){if(has("dijit-legacy-requires")){_411(0,function(){var _415=["dijit/ToolbarSeparator"];_40f(_415);});}return _410("dijit.Toolbar",[_412,_414,_413],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev();},_onRightArrow:function(){this.focusNext();}});});},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(_416,_417){return _416("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _418=this.checked;this._set("checked",!_418);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_418);return ret;},_setCheckedAttr:function(_419,_41a){this._set("checked",_419);var node=this.focusNode||this.domNode;if(this._created){if(_417.get(node,"checked")!=!!_419){_417.set(node,"checked",!!_419);}}node.setAttribute(this._aria_attr,String(_419));this._handleOnChange(_419,_41a);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_41b,_41c,_41d,keys,_41e,_41f,_420,_421){return _41b("dijit.form._ComboBoxMenu",[_41e,_41f,_421,_420],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_41c.add(this.previousButton,"dijitMenuItemRtl");_41c.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_41c.add(node,"dijitMenuItemHover");},onUnhover:function(node){_41c.remove(node,"dijitMenuItemHover");},onSelect:function(node){_41c.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_41c.remove(node,"dijitMenuItemSelected");},_page:function(up){var _422=0;var _423=this.domNode.scrollTop;var _424=_41d.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_422<_424){var _425=this.getHighlightedOption();if(up){if(!_425.previousSibling||_425.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_425.nextSibling||_425.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _426=this.domNode.scrollTop;_422+=(_426-_423)*(up?-1:1);_423=_426;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_427,_428,_429,has,i18n){var _42a=_428("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_42b){this._set("value",_42b);this.onChange(_42b);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_42c){var _42d=this._createMenuItem();var _42e=_42c(item);if(_42e.html){_42d.innerHTML=_42e.label;}else{_42d.appendChild(_42d.ownerDocument.createTextNode(_42e.label));}if(_42d.innerHTML==""){_42d.innerHTML="&#160;";}return _42d;},createOptions:function(_42f,_430,_431){this.items=_42f;this.previousButton.style.display=(_430.start==0)?"none":"";_429.set(this.previousButton,"id",this.id+"_prev");_427.forEach(_42f,function(item,i){var _432=this._createOption(item,_431);_432.setAttribute("item",i);_429.set(_432,"id",this.id+i);this.nextButton.parentNode.insertBefore(_432,this.nextButton);},this);var _433=false;if(_42f.total&&!_42f.total.then&&_42f.total!=-1){if((_430.start+_430.count)<_42f.total){_433=true;}else{if((_430.start+_430.count)>_42f.total&&_430.count==_42f.length){_433=true;}}}else{if(_430.count==_42f.length){_433=true;}}this.nextButton.style.display=_433?"":"none";_429.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _434=this.containerNode;while(_434.childNodes.length>2){_434.removeChild(_434.childNodes[_434.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});if(has("dojo-bidi")){_42a=_428("dijit.form._ComboBoxMenuMixin",_42a,{_createOption:function(){var _435=this.inherited(arguments);this.applyTextDir(_435);return _435;}});}return _42a;});},"dijit/form/_AutoCompleterMixin":function(){define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_436,_437,_438,keys,lang,_439,_43a,has,_43b,_43c,_43d){var _43e=_437("dijit.form._AutoCompleterMixin",_43d,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_43f){var pos=0;if(typeof (_43f.selectionStart)=="number"){pos=_43f.selectionStart;}else{if(has("ie")){var tr=_43f.ownerDocument.selection.createRange().duplicate();var ntr=_43f.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_440,_441){_441=parseInt(_441);_43c.selectInputText(_440,_441,_441);},_setDisabledAttr:function(_442){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_442?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _443=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_443=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_443);}evt.stopPropagation();evt.preventDefault();break;case keys.ENTER:if(_443){if(_443==pw.nextButton){this._nextSearch(1);evt.stopPropagation();evt.preventDefault();break;}else{if(_443==pw.previousButton){this._nextSearch(-1);evt.stopPropagation();evt.preventDefault();break;}}evt.stopPropagation();evt.preventDefault();}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _444=this.get("displayedValue");if(pw&&(_444==pw._messages["previousMessage"]||_444==pw._messages["nextMessage"])){break;}if(_443){this._selectOption(_443);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_43c.selectInputText(fn,fn.value.length);var _445=this.ignoreCase?"toLowerCase":"substr";if(text[_445](0).indexOf(this.focusNode.value[_445](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_43c.selectInputText(fn,cpos);}}else{fn.value=text;_43c.selectInputText(fn);}},_openResultList:function(_446,_447,_448){var _449=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_446.length&&_448.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_44a){_446.nextPage(_44a!==-1);this.focus();});this.dropDown.createOptions(_446,_448,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _448){if(_448.direction){this.dropDown.highlightFirstOption();}else{if(!_448.direction){this.dropDown.highlightLastOption();}}if(_449){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_447[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _44b=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_44b==pw._messages["previousMessage"]||_44b==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_44b);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_44c,_44d){var _44e="";if(item){if(!_44d){_44d=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_44e=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_44d;}this.set("value",_44e,_44c,_44d,item);},_announceOption:function(node){if(!node){return;}var _44f;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_44f=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_44f=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_44f);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_438.get(node,"id"));this._autoCompleteText(_44f);},_selectOption:function(_450){this.closeDropDown();if(_450){this._announceOption(_450);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _451=this.id+"_popup",_452=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _452({onChange:lang.hitch(this,this._selectOption),id:_451,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef){var _453=this.srcNodeRef;this.store=new _43b({},_453);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _454=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_454):item[_454];}}}},postCreate:function(){var _455=_439("label[for=\""+this.id+"\"]");if(_455.length){if(!_455[0].id){_455[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_455[0].id);}this.inherited(arguments);_436.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);},_getMenuLabelFromItem:function(item){var _456=this.labelFunc(item,this.store),_457=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_456=this.doHighlight(_456,this._lastInput);_457="html";}return {html:_457=="html",label:_456};},doHighlight:function(_458,find){var _459=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_43a.escapeString(find);return this._escapeHtml(_458.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_459),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_45a){return (_45a._oldAPI?_45a.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_45b,_45c,_45d,item){this._set("item",item||null);if(_45b==null){_45b="";}this.inherited(arguments);}});if(has("dojo-bidi")){_43e.extend({_setTextDirAttr:function(_45e){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_45e);}}});}return _43e;});},"dijit/_editor/plugins/LinkDialog":function(){define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/query","dojo/string","../_Plugin","../../form/DropDownButton","../range"],function(_45f,_460,_461,_462,keys,lang,on,has,_463,_464,_465,_466,_467){var _468=_461("dijit._editor.plugins.LinkDialog",_465,{allowUnsafeHtml:false,linkFilter:[[/</g,"&lt;"]],buttonClass:_466,useDefaultCommand:false,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",emailRegExp:"<?(mailto\\:)([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+"+"@"+"((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*>?",htmlTemplate:"<a href=\"${urlInput}\" _djrealurl=\"${urlInput}\""+" target=\"${targetSelect}\""+">${textInput}</a>",tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' "+"id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='true' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_targetSelect'>${target}</label>","</td><td>","<select id='${id}_targetSelect' name='targetSelect' data-dojo-type='dijit.form.Select'>","<option selected='selected' value='_self'>${currentWindow}</option>","<option value='_blank'>${newWindow}</option>","<option value='_top'>${topWindow}</option>","<option value='_parent'>${parentWindow}</option>","</select>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),_initButton:function(){this.inherited(arguments);this.button.loadDropDown=lang.hitch(this,"_loadDropDown");this._connectTagEvents();},_loadDropDown:function(_469){_45f(["dojo/i18n","../../TooltipDialog","../../registry","../../form/Button","../../form/Select","../../form/ValidationTextBox","dojo/i18n!../../nls/common","dojo/i18n!../nls/LinkDialog"],lang.hitch(this,function(i18n,_46a,_46b){var _46c=this;this.tag=this.command=="insertImage"?"img":"a";var _46d=lang.delegate(i18n.getLocalization("dijit","common",this.lang),i18n.getLocalization("dijit._editor","LinkDialog",this.lang));var _46e=(this.dropDown=this.button.dropDown=new _46a({title:_46d[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:lang.hitch(this,"setValue"),onOpen:function(){_46c._onOpenDialog();_46a.prototype.onOpen.apply(this,arguments);},onCancel:function(){setTimeout(lang.hitch(_46c,"_onCloseDialog"),0);}}));_46d.urlRegExp=this.urlRegExp;_46d.id=_46b.getUniqueId(this.editor.id);this._uniqueId=_46d.id;this._setContent(_46e.title+"<div style='border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'></div>"+_464.substitute(this.linkDialogTemplate,_46d));_46e.startup();this._urlInput=_46b.byId(this._uniqueId+"_urlInput");this._textInput=_46b.byId(this._uniqueId+"_textInput");this._setButton=_46b.byId(this._uniqueId+"_setButton");this.own(_46b.byId(this._uniqueId+"_cancelButton").on("click",lang.hitch(this.dropDown,"onCancel")));if(this._urlInput){this.own(this._urlInput.on("change",lang.hitch(this,"_checkAndFixInput")));}if(this._textInput){this.own(this._textInput.on("change",lang.hitch(this,"_checkAndFixInput")));}this._urlRegExp=new RegExp("^"+this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=lang.hitch(this,function(){var _46f=this._urlInput.get("value");return this._urlRegExp.test(_46f)||this._emailRegExp.test(_46f);});this.own(on(_46e.domNode,"keydown",lang.hitch(this,lang.hitch(this,function(e){if(e&&e.keyCode==keys.ENTER&&!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!this._setButton.get("disabled")){_46e.onExecute();_46e.execute(_46e.get("value"));}}}))));_469();}));},_checkAndFixInput:function(){var self=this;var url=this._urlInput.get("value");var _470=function(url){var _471=false;var _472=false;if(url&&url.length>1){url=lang.trim(url);if(url.indexOf("mailto:")!==0){if(url.indexOf("/")>0){if(url.indexOf("://")===-1){if(url.charAt(0)!=="/"&&url.indexOf("./")&&url.indexOf("../")!==0){if(self._hostRxp.test(url)){_471=true;}}}}else{if(self._userAtRxp.test(url)){_472=true;}}}}if(_471){self._urlInput.set("value","http://"+url);}if(_472){self._urlInput.set("value","mailto:"+url);}self._setButton.set("disabled",!self._isValid());};if(this._delayedCheck){clearTimeout(this._delayedCheck);this._delayedCheck=null;}this._delayedCheck=setTimeout(function(){_470(url);},250);},_connectTagEvents:function(){this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"mouseup",lang.hitch(this,"_onMouseUp")));this.own(on(this.editor.editNode,"dblclick",lang.hitch(this,"_onDblClick")));}));},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid();},_setContent:function(_473){this.dropDown.set({parserScope:"dojo",content:_473});},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(!this.allowUnsafeHtml&&args&&args.textInput){if(typeof this.linkFilter==="function"){args.textInput=this.linkFilter(args.textInput);}else{_460.forEach(this.linkFilter,function(_474){args.textInput=args.textInput.replace(_474[0],_474[1]);});}}return args;},_createlinkEnabledImpl:function(){return true;},setValue:function(args){this._onCloseDialog();if(has("ie")<9){var sel=_467.getSelection(this.editor.window);var _475=sel.getRangeAt(0);var a=_475.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(a&&(a.nodeName&&a.nodeName.toLowerCase()===this.tag)){if(this.editor.queryCommandEnabled("unlink")){this.editor.selection.selectElementChildren(a);this.editor.execCommand("unlink");}}}args=this._checkValues(args);this.editor.execCommand("inserthtml",_464.substitute(this.htmlTemplate,args));_463("a",this.editor.document).forEach(function(a){if(!a.innerHTML&&!_462.has(a,"name")){a.parentNode.removeChild(a);}},this);},_onCloseDialog:function(){if(this.editor.focused){this.editor.focus();}},_getCurrentValues:function(a){var url,text,_476;if(a&&a.tagName.toLowerCase()===this.tag){url=a.getAttribute("_djrealurl")||a.getAttribute("href");_476=a.getAttribute("target")||"_self";text=a.textContent||a.innerText;this.editor.selection.selectElement(a,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||"",targetSelect:_476||""};},_onOpenDialog:function(){var a,b,fc;if(has("ie")){var sel=_467.getSelection(this.editor.window);if(sel.rangeCount){var _477=sel.getRangeAt(0);a=_477.endContainer;if(a.nodeType===3){a=a.parentNode;}if(a&&(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){a=this.editor.selection.getSelectedElement(this.tag);}if(!a||(a.nodeName&&a.nodeName.toLowerCase()!==this.tag)){b=this.editor.selection.getAncestorElement(this.tag);if(b&&(b.nodeName&&b.nodeName.toLowerCase()==this.tag)){a=b;this.editor.selection.selectElement(a);}else{if(_477.startContainer===_477.endContainer){fc=_477.startContainer.firstChild;if(fc&&(fc.nodeName&&fc.nodeName.toLowerCase()==this.tag)){a=fc;this.editor.selection.selectElement(a);}}}}}}else{a=this.editor.selection.getAncestorElement(this.tag);}this.dropDown.reset();this._setButton.set("disabled",true);this.dropDown.set("value",this._getCurrentValues(a));},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_462.get(t,"href")){var _478=this.editor;this.editor.selection.selectElement(t);_478.onDisplayChanged();if(_478._updateTimer){_478._updateTimer.remove();delete _478._updateTimer;}_478.onNormalizedDisplayChanged();var _479=this.button;setTimeout(function(){_479.set("disabled",false);_479.loadAndOpenDropDown().then(function(){if(_479.dropDown.focus){_479.dropDown.focus();}});},10);}}},_onMouseUp:function(){if(has("ff")){var a=this.editor.selection.getAncestorElement(this.tag);if(a){var _47a=_467.getSelection(this.editor.window);var _47b=_47a.getRangeAt(0);if(_47b.collapsed&&a.childNodes.length){var test=_47b.cloneRange();test.selectNodeContents(a.childNodes[a.childNodes.length-1]);test.setStart(a.childNodes[0],0);if(_47b.compareBoundaryPoints(test.START_TO_START,test)!==1){_47b.setStartBefore(a);}else{if(_47b.compareBoundaryPoints(test.END_TO_START,test)!==-1){_47b.setStartAfter(a);}}}}}}});var _47c=_461("dijit._editor.plugins.ImgLinkDialog",[_468],{linkDialogTemplate:["<table role='presentation'><tr><td>","<label for='${id}_urlInput'>${url}</label>","</td><td>","<input dojoType='dijit.form.ValidationTextBox' regExp='${urlRegExp}' "+"required='true' id='${id}_urlInput' name='urlInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","<label for='${id}_textInput'>${text}</label>","</td><td>","<input data-dojo-type='dijit.form.ValidationTextBox' required='false' id='${id}_textInput' "+"name='textInput' data-dojo-props='intermediateChanges:true'/>","</td></tr><tr><td>","</td><td>","</td></tr><tr><td colspan='2'>","<button data-dojo-type='dijit.form.Button' type='submit' id='${id}_setButton'>${set}</button>","<button data-dojo-type='dijit.form.Button' type='button' id='${id}_cancelButton'>${buttonCancel}</button>","</td></tr></table>"].join(""),htmlTemplate:"<img src=\"${urlInput}\" _djrealurl=\"${urlInput}\" alt=\"${textInput}\" />",tag:"img",_getCurrentValues:function(img){var url,text;if(img&&img.tagName.toLowerCase()===this.tag){url=img.getAttribute("_djrealurl")||img.getAttribute("src");text=img.getAttribute("alt");this.editor.selection.selectElement(img,true);}else{text=this.editor.selection.getSelectedText();}return {urlInput:url||"",textInput:text||""};},_isValid:function(){return this._urlInput.isValid();},_connectTagEvents:function(){this.inherited(arguments);this.editor.onLoadDeferred.then(lang.hitch(this,function(){this.own(on(this.editor.editNode,"mousedown",lang.hitch(this,"_selectTag")));}));},_selectTag:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag){this.editor.selection.selectElement(t);}}},_checkValues:function(args){if(args&&args.urlInput){args.urlInput=args.urlInput.replace(/"/g,"&quot;");}if(args&&args.textInput){args.textInput=args.textInput.replace(/"/g,"&quot;");}return args;},_onDblClick:function(e){if(e&&e.target){var t=e.target;var tg=t.tagName?t.tagName.toLowerCase():"";if(tg===this.tag&&_462.get(t,"src")){var _47d=this.editor;this.editor.selection.selectElement(t);_47d.onDisplayChanged();if(_47d._updateTimer){_47d._updateTimer.remove();delete _47d._updateTimer;}_47d.onNormalizedDisplayChanged();var _47e=this.button;setTimeout(function(){_47e.set("disabled",false);_47e.loadAndOpenDropDown().then(function(){if(_47e.dropDown.focus){_47e.dropDown.focus();}});},10);}}}});_465.registry["createLink"]=function(args){var _47f={command:"createLink",allowUnsafeHtml:("allowUnsafeHtml" in args)?args.allowUnsafeHtml:false};if("linkFilter" in args){_47f.linkFilter=args.linkFilter;}return new _468(_47f);};_465.registry["insertImage"]=function(){return new _47c({command:"insertImage"});};_468.ImgLinkDialog=_47c;return _468;});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"${type}\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\" data-dojo-attach-point=\"valueNode\" aria-hidden=\"true\"\n/></span>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" aria-hidden=\"true\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","*now":function(r){r(["dojo/i18n!*preload*layers/mbs/nls/richtexteditor*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en\",\"es\",\"fi\",\"fr\",\"he\",\"hr\",\"hu\",\"it\",\"ja\",\"kk\",\"ko\",\"nb\",\"nl\",\"pl\",\"pt\",\"pt-pt\",\"ro\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh\",\"zh-tw\",\"ROOT\"]"]);}}});define("layers/mbs/richtexteditor",[],1);