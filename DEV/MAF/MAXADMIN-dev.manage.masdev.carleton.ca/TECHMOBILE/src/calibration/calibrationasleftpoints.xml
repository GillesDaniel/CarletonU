<page padding="true" id="calibrationasleftpoints" title="As left values" controller="./calibration/CalibrationPointsController">
  <states id="dm3pr">
    <state name="functionDesc" value="" type="string" id="rv_qv"/>
    <state name="asleftcalstatus" value="" type="string" id="akxm_"/>
    <state name="asserterror" value="" type="boolean" id="b2xzv"/>
    <state name="calpointtitle" value="" type="string" id="r479h"/>
    <state name="isNoAdjMadeEnabled" value="false" type="boolean" id="q_xmx"/>
    <state name="saveInProgress" value="false" type="boolean" id="vdxbm"/>
    <state name="isdirty" value="false" type="boolean" id="dqib9v"/>
  </states>
  <maximo-datasource id="unitspointsLookupDs" lookup-data="true" object-structure="mxapialndomain" page-size="100" selection-mode="single">
    <schema id="ezd9a">
      <attribute name="value" unique-id="true" id="vxznv"/>
      <attribute name="tolError" computed="true" computed-function="calculateTolError" id="j4yx4"/>
      <attribute name="valueid" id="d8yw4"/>
      <attribute name="description" id="m_njj"/>
      <attribute name="domainid" searchable="true" id="b2yxg"/>
      <attribute name="siteid" id="k75ym"/>
      <attribute name="orgid" id="j3zwv"/>
    </schema>
  </maximo-datasource>
  <dialogs id="mb76_">
    <lookup id="unitspointsLookup" show-search="false" lookup-heading="Select value" datasource="unitspointsLookupDs" on-item-click="selectUnits" border="true" lookup-attributes="{['value', 'description']}" height="400" width="100"/>
    <dialog id="saveAsLeftDiscardRules" title="Save or discard changes?" primary-action-text="Save" on-primary-action="saveChanges" primary-kind="secondary" on-secondary-action="discardChanges" secondary-action-text="Discard">
      <label wrap="true" label="To leave this page, you must first discard or save your changes." id="egvqr"/>
    </dialog>
  </dialogs>
  <header-template title="As left values" hide-breadcrumb="true" show-current-page-in-bread-crumb="false" icon-name="carbon:chevron--left" icon-action="goBackfromleft" title-column-width="{app.state.screen.size === 'lg' ? 45 : 80}" id="xq88g">
    <button slot="buttons" label="Save" icon="carbon:save" loading="{page.state.saveInProgress}" disabled="{!page.state.isdirty || page.state.saveInProgress || (page.state.isNoAdjMadeEnabled &amp;&amp; page.state.calPointFlag)}" on-click="saveUpdate" on-click-arg="{{'item':pluscWoDs.item,'datasource':pluscWoDs}}" id="wq_wk"/>
  </header-template>
  <inline-notification use-with-mobile="true" kind="info" title="The As Found values are copied to As Left, and all fields are read-only." hide-close-button="true" hidden="{!(page.state.isNoAdjMadeEnabled &amp;&amp; page.state.calPointFlag)}" id="p9rey"/>
  <box id="bdaz3" vertical-align="center" padding-top="1.5" padding-bottom="0.75" padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" padding-end="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0.5' : '0'}" children-sizes="75,25" manage-children="true">
    <box direction="column" id="qadx7">
      <label label="Asset function" padding="none" color="gray60" theme="16-regular" id="ry_78"/>
      <label label="{page.state.calpointtitle}" padding="none" wrap="true" theme="20-regular" id="ed7dk"/>
    </box>
    <tag-group hidden="{page.state.calDynamicFlag || app.state.nopointexist}" tags="{[{label: `${page.state.asleftcalstatus ? page.state.asleftcalstatus: '-'}` , type: page.state.asleftcallabel}]}" align="end" id="e2ba9"/>
  </box>
  <!-- Page load spinner -->
  <loading active="{page.state.loading}" kind="spinner" small="false" id="ndw2cvcu"/>
  <box hidden="{!page.state.calPointFlag}" fill-parent="true" padding-top="0.5" padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" padding-end="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" id="yvq28">
    <!-- Listing calibration points -->
    <data-list datasource="{app.state.calpointsds}" expand-all="true" row-space="1" margin="false" padding="false" on-item-click="openCalibrationPoints" show-search="false" id="z5bj_">
      <list-item renderer-type="default" id="nya9d">
        <border-layout fill-parent="true" id="a6yd4">
          <top vertical-align="center" id="bbdga">
            <box padding-start="0.5" padding-end="0.5" fill-parent="true" vertical-align="center" id="pp878">
              <border-layout padding="false" fill-parent="true" id="zjbxz">
                <start vertical-align="center" hidden="true" id="my9wb">
                  <box padding-start="1" padding-end="-0.5" id="d_56w">
                    <icon icon="carbon:warning--filled" fill="#DA1E28" size="24" id="rgkyz"/>
                  </box>
                </start>
                <middle id="nq8db" vertical-align="center">
                  <box manage-children="true" children-sizes="20,80" direction="row" id="mkzn7">
                    <box id="e_524">
                      <label id="de588" label="{item.point}." theme="16-regular"/>
                    </box>
                    <box id="enw_2">
                      <label label="{item.pointdescription || ''}" theme="16-bold" id="aa75b" wrap="true"/>
                    </box>
                  </box>
                </middle>
                <end vertical-align="center" hidden="{!(page.callController('isToleranceWarningShownOnTabOut', item.aslefterror) || item.showWarningOnOutputChange || item.showWarningOnInputChange)}" id="vem35">
                  <icon icon="carbon:warning--alt--filled" fill="#FF832B" size="24" id="pv6ey"/>
                </end>
              </border-layout>
            </box>
            <button icon="{item.asleftDetailsHidden ? 'Carbon:chevron--down' : 'Carbon:chevron--up'}" on-click="{item.asleftDetailsHidden = !item.asleftDetailsHidden}" id="wwd_6"/>
          </top>
          <bottom hidden="{item.asleftDetailsHidden}" id="nybbx">
            <box direction="column" fill-parent="true" id="a3nvj">
              <box hidden="{item.plantype == 'DISCRETE'}" border-top="true" fill-parent="true" direction="column" id="gwqdq">
                <box fill-parent="true" padding-top="1" padding-bottom="1" direction="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? 'column' : 'row'}" id="q82jd">
                  <box direction="column" fill-parent="true" padding-start="1" padding-end="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="q3pv7">
                    <field label="Nominal input" value="{(page.callController('getLocaleNumber',item.inputvalue,'input', item.inputvalue))}" id="z_7rv"/>
                    <smart-input label="Input ({page.state.instrcalrangeeu})" value="{item.asleftinput}" readonly="{page.state.isNoAdjMadeEnabled}" on-change="onCalpointValueChanged" on-blur="validateCalPointAndCalculateTolerances" on-blur-arg="{{ item: item, whichFieldTypeChanged: 'input' }}" invalid-text="{page.state.message}" id="qe3y5"/>
                    <warning-label hidden="{!item.showWarningOnInputChange}" label="Data has already been entered for this field. (BMXAR0061)" id="a4g_p"/>
                  </box>
                  <box direction="column" fill-parent="true" padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" padding-end="1" id="a76d7">
                    <field label="Desired Output" value="{(page.callController('getLocaleNumber',item.outputvalue,'output', item.outputvalue))}" id="w_r3m"/>
                    <smart-input label="Output ({page.state.instroutrangeeu})" value="{item.asleftoutput}" readonly="{page.state.isNoAdjMadeEnabled}" on-change="onCalpointValueChanged" on-blur="validateCalPointAndCalculateTolerances" on-blur-arg="{{ item: item, whichFieldTypeChanged: 'output' }}" id="mw4rq"/>
                    <box fill-parent="true" padding-start="0.5" padding-bottom="0.5" hidden="{!page.callController('isToleranceWarningShownOnTabOut', item.aslefterror)}" id="d759d">
                      <border-layout padding="false" id="pbr5b">
                        <start id="jyzmk">
                          <icon icon="carbon:warning--alt--filled" fill="#F1C21B" size="20" id="ya9m8"/>
                        </start>
                        <middle id="ge478">
                          <label label="One or more As Left tolerance limits have been exceeded on this calibration point. (BMXAR0020)" color="text-02" padding="none" wrap="true" id="xqyz9"/>
                        </middle>
                      </border-layout>
                    </box>
                    <warning-label hidden="{!(item.showWarningOnOutputChange &amp;&amp; !page.callController('isToleranceWarningShownOnTabOut', item.aslefterror))}" label="Data has already been entered for this field. (BMXAR0061)" id="bg5ra"/>
                  </box>
                </box>
              </box>
              <box hidden="{item.plantype == 'ANALOG'}" direction="column" fill-parent="true" border-top="true" id="bk2gm">
                <box fill-parent="true" padding-top="1" padding-bottom="1" direction="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? 'column' : 'row'}" id="nxp8g">
                  <box fill-parent="true" direction="column" padding-start="1" padding-end="1" id="y_4qr">
                    <field label="Set point ({page.state.instrcalrangeeu})" value="{(page.callController('getLocaleNumber',item.setpointvalue,'input', item.setpointvalue))}" id="jvv7e"/>
                  </box>
                  <box fill-parent="true" direction="column" padding-start="1" padding-end="1" id="d7dka">
                    <smart-input label="As left set point" value="{item.asleftsetpoint}" readonly="{page.state.isNoAdjMadeEnabled}" on-change="onCalpointValueChanged" on-blur="validateCalPointAndCalculateTolerances" on-blur-arg="{{ item: item, whichFieldTypeChanged: 'input' }}" invalid-text="{page.state.message}" id="x2qen"/>
                    <box fill-parent="true" padding-start="0.5" padding-bottom="0.5" hidden="{!page.callController('isToleranceWarningShownOnTabOut', item.aslefterror)}" id="bqxay">
                      <border-layout padding="false" id="ndd4d">
                        <start id="qrzge">
                          <icon icon="carbon:warning--alt--filled" fill="#F1C21B" size="20" id="ra4kw"/>
                        </start>
                        <middle id="dq4bj">
                          <label label="One or more As Left tolerance limits have been exceeded on this calibration point. (BMXAR0020)" color="text-02" padding="none" wrap="true" id="zy2z2"/>
                        </middle>
                      </border-layout>
                    </box>
                    <warning-label hidden="{!(item.showWarningOnInputChange &amp;&amp; !page.callController('isToleranceWarningShownOnTabOut', item.aslefterror))}" label="Data has already been entered for this field. (BMXAR0061)" id="x_yqw"/>
                  </box>
                </box>
              </box>
              <box fill-parent="true" border-top="true" vertical-align="center" id="ry4wy">
                <box fill-parent="true" padding-start="1" id="em9q8">
                  <label label="Tolerances" theme="16-bold" padding="none" id="kqar2"/>
                </box>
                <box horizontal-align="end" id="wxmqa">
                  <button icon="{page.state.asserterror ? 'carbon:chevron--up':'carbon:chevron--down'}" padding="false" on-click="toggleAssert" id="vqwdy"/>
                </box>
              </box>
              <box hidden="{!page.state.asserterror}" border-top="true" fill-parent="true" id="kenjg">
                <adaptive-row id="vvqd6">
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="dqm_n">
                    <box fill-parent="true" padding-start="1" id="qegbr">
                      <label label="Tolerance 1" id="yn2rp"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="mdxr4">
                    <field label="From" value="{item.aslefttol1lower ? item.aslefttol1lower : 'NA'}" id="eww8x"/>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="ypgvj">
                    <box padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="mn_n7">
                      <field label="To" value="{item.aslefttol1upper ? item.aslefttol1upper : 'NA'}" id="adx2w"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="vp_j9">
                    <box vertical-align="center" id="p2nk4">
                      <field label="Error" value="{item.aslefterror1}" id="ad3x5"/>
                      <icon icon="carbon:warning--alt--filled" fill="#FF832B" size="20" hidden="true" id="geedy"/>
                    </box>
                  </adaptive-column>
                </adaptive-row>
              </box>
              <box hidden="{!page.state.asserterror}" border-top="true" fill-parent="true" id="djwy_">
                <adaptive-row id="n3z4y">
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="bmep8">
                    <box fill-parent="true" padding-start="1" id="mvpz4">
                      <label label="Tolerance 2" id="xv6n6"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="n_989">
                    <field label="From" value="{item.aslefttol2lower ? item.aslefttol2lower : 'NA'}" id="aqk2p"/>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="q9q66">
                    <box padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="njkgj">
                      <field label="To" value="{item.aslefttol2upper ? item.aslefttol2upper : 'NA'}" id="w5ezb"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="mkyay">
                    <box vertical-align="center" id="eqa3z">
                      <field label="Error" value="{item.aslefterror2}" id="kkqb9"/>
                      <icon icon="carbon:warning--alt--filled" fill="#FF832B" size="20" hidden="true" id="y33w2"/>
                    </box>
                  </adaptive-column>
                </adaptive-row>
              </box>
              <box hidden="{!page.state.asserterror}" border-top="true" fill-parent="true" id="kx4gd">
                <adaptive-row id="d4k27">
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="yp5yz">
                    <box fill-parent="true" padding-start="1" id="nrn2x">
                      <label label="Tolerance 3" id="yaw8d"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="rpk8n">
                    <field label="From" value="{item.aslefttol3lower ? item.aslefttol3lower : 'NA'}" id="v6e99"/>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="er9m5">
                    <box padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="w6bkk">
                      <field label="To" value="{item.aslefttol3upper ? item.aslefttol3upper : 'NA'}" id="debz_"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="gb_j6">
                    <box vertical-align="center" id="e7rep">
                      <field label="Error" value="{item.aslefterror3}" id="aaky2"/>
                      <icon icon="carbon:warning--alt--filled" fill="#FF832B" size="20" hidden="true" id="jq7dr"/>
                    </box>
                  </adaptive-column>
                </adaptive-row>
              </box>
              <box hidden="{!page.state.asserterror}" border-top="true" fill-parent="true" id="jymdw">
                <adaptive-row id="kkyg_">
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="q4v6y">
                    <box fill-parent="true" padding-start="1" id="k5y2r">
                      <label label="Tolerance 4" id="wm6jr"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="e5w46">
                    <field label="From" value="{item.aslefttol4lower ? item.aslefttol4lower : 'NA'}" id="w6abv"/>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="n7ddb">
                    <box padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="m3w9_">
                      <field label="To" value="{item.aslefttol4upper ? item.aslefttol4upper : 'NA'}" id="xgby2"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="v6zxr">
                    <box vertical-align="center" id="y5d8d">
                      <field label="Error" value="{item.aslefterror4}" id="xnw3k"/>
                      <icon icon="carbon:warning--alt--filled" fill="#FF832B" size="20" hidden="true" id="nykrz"/>
                    </box>
                  </adaptive-column>
                </adaptive-row>
              </box>
              <box hidden="{!page.state.asserterror}" border-top="true" fill-parent="true" id="pegaq">
                <adaptive-row id="b43n2">
                  <adaptive-column hidden="{app.state.screen.size === 'sm' ? 'true' : 'false'}" xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="p55r4"/>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="yp96j">
                    <field label="Asset error" value="{item.asleftouterror ? item.asleftouterror : 'NA'}" id="n_97j"/>
                  </adaptive-column>
                  <adaptive-column xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="d4_83">
                    <box padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '1' : '0'}" id="z627n">
                      <field label="Process error" value="{item.asleftproerror ? item.asleftproerror : 'NA'}" id="n7pz5"/>
                    </box>
                  </adaptive-column>
                  <adaptive-column hidden="{app.state.screen.size === 'sm' ? 'true' : 'false'}" xlarge-width="25" large-width="25" medium-width="50" small-width="50" id="jqk8v"/>
                </adaptive-row>
              </box>
            </box>
          </bottom>
        </border-layout>
      </list-item>
    </data-list>
  </box>
  <!-- dynamic check-->
  <box hidden="{!page.state.calDynamicFlag}" fill-parent="true" padding-top="0.5" padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" padding-end="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" id="mp57b">
    <data-list datasource="{app.state.calpointsds}" expand-all="true" row-space="1" padding="false" on-item-click="openCalibrationPoints" show-search="false" no-select-behavior="true" id="e54gy">
      <list-item renderer-type="default" id="vxkwm">
        <border-layout fill-parent="true" id="rwj4k">
          <top vertical-align="center" id="k7bnx">
            <box padding-start="0.5" padding-end="0.5" fill-parent="true" vertical-align="center" id="qgjjv">
              <border-layout padding="false" fill-parent="true" id="nabp_">
                <start vertical-align="center" hidden="true" id="ydr36">
                  <box padding-start="1" padding-end="-0.5" id="wpa47">
                    <icon icon="carbon:warning--filled" fill="#DA1E28" size="24" id="v73bw"/>
                  </box>
                </start>
                <middle vertical-align="center" id="gyqa5">
                  <box manage-children="true" children-sizes="20,80" direction="row" id="anbj7">
                    <box id="qmbka">
                      <label id="zxv4v" label="{item.point}." theme="16-regular"/>
                    </box>
                    <box id="zwbnx">
                      <label label="{item.pointdescription || ''}" theme="16-bold" id="xx7r3" wrap="true"/>
                    </box>
                  </box>
                </middle>
                <end vertical-align="center" hidden="{!item.aslefterror}" id="q7d5e">
                  <tag-group tags="{[{label: page.state.toleranceMissingLabel, type: 'red'}]}" align="end" id="dq7nr"/>
                </end>
              </border-layout>
            </box>
            <button icon="{item.asleftDetailsHidden ? 'Carbon:chevron--down' : 'Carbon:chevron--up'}" on-click="{item.asleftDetailsHidden = !item.asleftDetailsHidden}" id="m63q8"/>
          </top>
          <bottom hidden="{item.asleftDetailsHidden}" id="vv748">
            <box direction="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? 'column' : 'row'}" border-top="true" fill-parent="true" padding-bottom="1" id="zyjjk">
              <box padding-start="1" padding-end="1" padding-top="1" fill-parent="true" direction="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? 'column' : 'row'}" id="j8wev">
                <box id="aegbm">
                  <smart-input label="Value" value="{item.asleftinput}" on-change="onCalpointValueChanged" on-blur="validateCalPointAndCalculateTolerances" on-blur-arg="{{ item: item, whichFieldTypeChanged: 'input' }}" id="rzznx"/>
                </box>
                <box id="d_kgg">
                  <smart-input label="Unit" value="{item.asleftunit}" enable-lookup-buttongroup="true" select-lookup-attribute="value" on-change="validateType" on-change-arg="value" id="qww4q">
                    <button slot="button-group" kind="secondary" label="Search" icon="Carbon:search" on-click="openTypeLookup" on-click-arg="{{'item': item, 'changeText': 'asleftunit'}}" id="dydz8"/>
                  </smart-input>
                </box>
              </box>
            </box>
          </bottom>
        </border-layout>
      </list-item>
    </data-list>
  </box>
  <!-- functional check-->
  <box hidden="{!page.state.calFunctionFlag}" fill-parent="true" padding-top="0.5" padding-start="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" padding-end="{app.state.screen.size === 'sm' || app.state.screen.size === 'md' ? '0' : '.5'}" id="a75em">
    <data-list datasource="{app.state.calpointsds}" padding="false" show-search="false" on-item-click="openCalibrationPoints" no-select-behavior="true" id="ewprm">
      <list-item id="qdj_n">
        <box vertical-align="center" fill-parent="true" id="a3538">
          <border-layout id="w75yr">
            <start id="ddpkj">
              <box manage-children="true" children-sizes="20,80" direction="row" id="k5q5x">
                <box id="wz_59">
                  <label id="gbepx" label="{item.point}." theme="16-regular"/>
                </box>
                <box id="qxkjw">
                  <label label="{item.pointdescription || ''}" theme="16-bold" id="x9_6b" wrap="true"/>
                </box>
              </box>
            </start>
            <end horizontal-align="end" id="e6ka7">
              <button-toggle-group options="{[{ id: 'asleftpass', iconName: 'Carbon:thumbs-up', toggled: item.asleftpass }, { id: 'asleftfail', iconName: 'Carbon:thumbs-down', toggled: item.asleftfail }]}" on-change="funcCheckToggle" on-change-arg="{{'item':item, 'condition':'asleft', 'event':event}}" id="wmx_d"/>
            </end>
          </border-layout>
        </box>
      </list-item>
    </data-list>
  </box>
</page>